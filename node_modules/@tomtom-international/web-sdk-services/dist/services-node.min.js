/*! For license information please see services-node.min.js.LICENSE.txt */
!function(){var e,t=[,function(e){const t="api.tomtom.com";e.exports={"sdk.name":"MapsWebSDK","sdk.version":"6.20.0","sdk.examples.version":"SDK-${version}","analytics.header.name":"TomTom-User-Agent","analytics.header.sdkName":"MapsWebSDK","endpoints.copyrightsWorld":"".concat(t,"/map/1/copyrights.{contentType}"),"endpoints.copyrightsBounds":"".concat(t,"/map/1/copyrights/{minLon}/{minLat}/{maxLon}/{maxLat}.{contentType}"),"endpoints.copyrightsZoom":"".concat(t,"/map/1/copyrights/{zoom}/{x}/{y}.{contentType}"),"endpoints.caption":"".concat(t,"/map/1/copyrights/caption.{contentType}"),"endpoints.copyrightsV2":"".concat(t,"/map/2/copyrights"),"endpoints.captionV2":"".concat(t,"/map/2/copyrights/caption.{contentType}"),"endpoints.geocode":"".concat(t,"/search/2/geocode/{query}.{contentType}"),"endpoints.structuredGeocode":"".concat(t,"/search/2/structuredGeocode.{contentType}"),"endpoints.search":"".concat(t,"/search/2/{type}/{query}.{contentType}"),"endpoints.nearbySearch":"".concat(t,"/search/2/nearbySearch/.{contentType}"),"endpoints.batchNearbySearchQuery":"/{type}/.{contentType}","endpoints.batchSearch":"".concat(t,"/search/2/batch.{contentType}"),"endpoints.batchSyncSearch":"".concat(t,"/search/2/batch/sync.{contentType}"),"endpoints.batchSearchQuery":"/{type}/{query}.{contentType}","endpoints.batchStructuredGeocodeQuery":"/structuredGeocode.{contentType}","endpoints.adp":"".concat(t,"/search/2/additionalData.{contentType}"),"endpoints.batchAdpQuery":"/additionalData.{contentType}","endpoints.reverseGeocode":"".concat(t,"/search/2/{type}/{position}.{contentType}"),"endpoints.batchReverseGeocodeQuery":"/{type}/{position}.{contentType}","endpoints.autocomplete":"".concat(t,"/search/2/autocomplete/{query}.{contentType}"),"endpoints.poiCategories":"".concat(t,"/search/2/poiCategories.{contentType}"),"endpoints.chargingAvailability":"".concat(t,"/search/2/chargingAvailability.{contentType}"),"endpoints.batchChargingAvailabilityQuery":"/chargingAvailability.{contentType}","endpoints.placeById":"".concat(t,"/search/2/place.{contentType}"),"endpoints.incidentDetails":"".concat(t,"/traffic/services/4/incidentDetails/{style}/{minLat},{minLon},{maxLat},{maxLon}/{zoom}/{trafficModelID}/{contentType}"),"endpoints.incidentDetailsV5":"".concat(t,"/traffic/services/5/incidentDetails"),"endpoints.incidentViewport":"".concat(t,"/traffic/services/4/incidentViewport/0,0,.1,.1/0/0,0,.1,.1/0/false/{contentType}"),"endpoints.flowSegmentData":"".concat(t,"/traffic/services/4/flowSegmentData/{style}/{zoom}/{contentType}"),"endpoints.incidentRegions":"".concat(t,"/traffic/services/4/incidentRegions/{contentType}"),"endpoints.rasterTrafficIncidentTilesLayer":"{s}.".concat(t,"/traffic/map/4/tile/incidents/{style}/{z}/{x}/{y}.png?tileSize={tileSize}"),"endpoints.vectorTrafficIncidentTilesLayer":"{s}.".concat(t,"/traffic/map/4/tile/incidents/{z}/{x}/{y}.pbf"),"endpoints.rasterTrafficFlowTilesLayer":"{s}.".concat(t,"/traffic/map/4/tile/flow/{style}/{z}/{x}/{y}.png"),"endpoints.vectorTrafficFlowTilesLayer":"{s}.".concat(t,"/traffic/map/4/tile/flow/{style}/{z}/{x}/{y}.pbf"),"endpoints.tileLayer":"{s}.".concat(t,"/map/1/tile/{layer}/{style}/{z}/{x}/{y}.png?tileSize={tileSize}"),"endpoints.wmsLayer":"{s}.".concat(t,"/map/1/wms/?service=WMS&version=1.1.1&request=GetMap&bbox={bbox-epsg-3857}&srs=EPSG:3857&width=512&height=512&layers=basic&styles=&format={format}"),"endpoints.vectorTileLayer":"{s}.".concat(t,"/map/1/tile/{layer}/{style}/{z}/{x}/{y}.pbf"),"endpoints.routing":"".concat(t,"/routing/1/calculateRoute/{locations}/{contentType}"),"endpoints.calculateReachableRange":"".concat(t,"/routing/1/calculateReachableRange/{origin}/{contentType}"),"endpoints.batchRouting":"".concat(t,"/routing/1/batch/{contentType}"),"endpoints.batchSyncRouting":"".concat(t,"/routing/1/batch/sync/{contentType}"),"endpoints.batchRoutingQuery":"/calculateRoute/{locations}/{contentType}","endpoints.batchReachableRangeQuery":"/calculateReachableRange/{origin}/{contentType}","endpoints.matrixRouting":"".concat(t,"/routing/1/matrix/{contentType}"),"endpoints.matrixSyncRouting":"".concat(t,"/routing/1/matrix/sync/{contentType}"),"endpoints.longDistanceEVRouting":"".concat(t,"/routing/1/calculateLongDistanceEVRoute/{locations}/{contentType}"),"endpoints.staticImage":"https://".concat(t,"/map/1/staticimage"),"vector.glyphs":"https://"+t+"/maps-sdk-js/6.20.0/glyphs/{fontstack}/{range}.pbf","vector.sprites":"https://"+t+"/maps-sdk-js/6.20.0/sprites/sprite","endpoints.styles":"https://".concat(t,"/style/1/style/{version}?map=basic_main&traffic_incidents=incidents_day&traffic_flow=flow_relative0&poi=poi_main"),origin:t,hostedStylesVersion:"21.1.0-*"}},function(e,t,r){var n=r(3),o=r(9);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,r){var n=r(4),o=r(7),i=r(8),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,r){var n=r(5).Symbol;e.exports=n},function(e,t,r){var n=r(6),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},function(e){var t="object"==typeof global&&global&&global.Object===Object&&global;e.exports=t},function(e,t,r){var n=r(4),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[s]=r:delete e[s]),o}},function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){var n=r(3),o=r(11),i=r(12);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==n(e)}},function(e){var t=Array.isArray;e.exports=t},function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e){e.exports=function(e){return null==e}},function(e,t,r){var n=r(15);e.exports=function(e){return"number"==typeof e&&e==n(e)}},function(e,t,r){var n=r(16);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},function(e,t,r){var n=r(17),o=1/0;e.exports=function(e){return e?(e=n(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},function(e,t,r){var n=r(9),o=r(18),i=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(n(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=n(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=s.test(e);return r||l.test(e)?c(e.slice(2),r?2:8):a.test(e)?NaN:+e}},function(e,t,r){var n=r(3),o=r(12);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},function(e,t,r){var n=r(20),o=r(21);e.exports=function(e,t){return null!=e&&o(e,t,n)}},function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e,r){return null!=e&&t.call(e,r)}},function(e,t,r){var n=r(22),o=r(60),i=r(11),a=r(62),s=r(63),l=r(64);e.exports=function(e,t,r){for(var c=-1,u=(t=n(t,e)).length,d=!1;++c<u;){var p=l(t[c]);if(!(d=null!=e&&r(e,p)))break;e=e[p]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&a(p,u)&&(i(e)||o(e))}},function(e,t,r){var n=r(11),o=r(23),i=r(24),a=r(57);e.exports=function(e,t){return n(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,r){var n=r(11),o=r(18),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,r){var n=r(25),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,r,n,o){t.push(n?o.replace(i,"$1"):r||e)})),t}));e.exports=a},function(e,t,r){var n=r(26);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},function(e,t,r){var n=r(27);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},function(e,t,r){var n=r(28),o=r(51),i=r(54),a=r(55),s=r(56);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,r){var n=r(29),o=r(42),i=r(50);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},function(e,t,r){var n=r(30),o=r(38),i=r(39),a=r(40),s=r(41);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,r){var n=r(31);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t,r){var n=r(32)(Object,"create");e.exports=n},function(e,t,r){var n=r(33),o=r(37);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},function(e,t,r){var n=r(2),o=r(34),i=r(9),a=r(36),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?p:s).test(a(e))}},function(e,t,r){var n,o=r(35),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},function(e,t,r){var n=r(5)["__core-js_shared__"];e.exports=n},function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(31),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(31),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},function(e,t,r){var n=r(31);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,r){var n=r(43),o=r(44),i=r(47),a=r(48),s=r(49);function l(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype.delete=o,l.prototype.get=i,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(45),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)}},function(e,t,r){var n=r(46);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(45);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(45);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(45);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},function(e,t,r){var n=r(32)(r(5),"Map");e.exports=n},function(e,t,r){var n=r(52);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t,r){var n=r(53);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(52);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(52);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(52);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},function(e,t,r){var n=r(58);e.exports=function(e){return null==e?"":n(e)}},function(e,t,r){var n=r(4),o=r(59),i=r(11),a=r(18),s=n?n.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return l?l.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r}},function(e){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},function(e,t,r){var n=r(61),o=r(12),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,r){var n=r(3),o=r(12);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,r){var n=r(18);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}});var n=p(r(66)),o=p(r(72)),i=p(r(76)),a=p(r(77)),s=p(r(79)),l=p(r(80)),c=p(r(70)),u=p(r(69)),d=p(r(74));function p(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(67)),o=i(r(69));function i(e){return e&&e.__esModule?e:{default:e}}let a,s,l=0,c=0;var u=function(e,t,r){let i=t&&r||0;const u=t||new Array(16);let d=(e=e||{}).node||a,p=void 0!==e.clockseq?e.clockseq:s;if(null==d||null==p){const t=e.random||(e.rng||n.default)();null==d&&(d=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==p&&(p=s=16383&(t[6]<<8|t[7]))}let f=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:c+1;const y=f-l+(h-c)/1e4;if(y<0&&void 0===e.clockseq&&(p=p+1&16383),(y<0||f>l)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");l=f,c=h,s=p,f+=122192928e5;const b=(1e4*(268435455&f)+h)%4294967296;u[i++]=b>>>24&255,u[i++]=b>>>16&255,u[i++]=b>>>8&255,u[i++]=255&b;const g=f/4294967296*1e4&268435455;u[i++]=g>>>8&255,u[i++]=255&g,u[i++]=g>>>24&15|16,u[i++]=g>>>16&255,u[i++]=p>>>8|128,u[i++]=255&p;for(let e=0;e<6;++e)u[i+e]=d[e];return t||(0,o.default)(u)};t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){a>i.length-16&&(o.default.randomFillSync(i),a=0);return i.slice(a,a+=16)};var n,o=(n=r(68))&&n.__esModule?n:{default:n};const i=new Uint8Array(256);let a=i.length},function(e){"use strict";e.exports=require("crypto")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(70))&&n.__esModule?n:{default:n};const i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).substr(1));var a=function(e,t=0){const r=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!(0,o.default)(r))throw TypeError("Stringified UUID is invalid");return r};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(71))&&n.__esModule?n:{default:n};var i=function(e){return"string"==typeof e&&o.default.test(e)};t.default=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(73)),o=i(r(75));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v3",48,o.default);t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){function i(e,i,a,s){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof i&&(i=(0,o.default)(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+e.length);if(l.set(i),l.set(e,i.length),l=r(l),l[6]=15&l[6]|t,l[8]=63&l[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=l[e];return a}return(0,n.default)(l)}try{i.name=e}catch(e){}return i.DNS=a,i.URL=s,i},t.URL=t.DNS=void 0;var n=i(r(69)),o=i(r(74));function i(e){return e&&e.__esModule?e:{default:e}}const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(70))&&n.__esModule?n:{default:n};var i=function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(68))&&n.__esModule?n:{default:n};var i=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.default.createHash("md5").update(e).digest()};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(67)),o=i(r(69));function i(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,r){const i=(e=e||{}).random||(e.rng||n.default)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=i[e];return t}return(0,o.default)(i)};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(73)),o=i(r(78));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v5",80,o.default);t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(68))&&n.__esModule?n:{default:n};var i=function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.default.createHash("sha1").update(e).digest()};t.default=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(70))&&n.__esModule?n:{default:n};var i=function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)};t.default=i},function(e){e.exports=function(e){return void 0===e}},function(e,t,r){"use strict";r.r(t),r.d(t,{File:function(){return f},FormData:function(){return h},formDataToBlob:function(){return y}});var n=r(83),o=r(89),{toStringTag:i,iterator:a,hasInstance:s}=Symbol,l=Math.random,c="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),u=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[i])?[(r=void 0!==r?r+"":"File"==t[i]?t.name:"blob",e),t.name!==r||"blob"==t[i]?new o.default([t],r,t):t]:[e,t+""]),d=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,"\r\n")).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),p=(e,t,r)=>{if(t.length<r)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)};const f=o.default,h=class{#e=[];constructor(...e){if(e.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[i](){return"FormData"}[a](){return this.entries()}static[s](e){return e&&"object"==typeof e&&"FormData"===e[i]&&!c.some((t=>"function"!=typeof e[t]))}append(...e){p("append",arguments,2),this.#e.push(u(...e))}delete(e){p("delete",arguments,1),e+="",this.#e=this.#e.filter((([t])=>t!==e))}get(e){p("get",arguments,1),e+="";for(var t=this.#e,r=t.length,n=0;n<r;n++)if(t[n][0]===e)return t[n][1];return null}getAll(e,t){return p("getAll",arguments,1),t=[],e+="",this.#e.forEach((r=>r[0]===e&&t.push(r[1]))),t}has(e){return p("has",arguments,1),e+="",this.#e.some((t=>t[0]===e))}forEach(e,t){for(var[r,n]of(p("forEach",arguments,1),this))e.call(t,n,r,this)}set(...e){p("set",arguments,2);var t=[],r=!0;e=u(...e),this.#e.forEach((n=>{n[0]===e[0]?r&&(r=!t.push(e)):t.push(n)})),r&&t.push(e),this.#e=t}*entries(){yield*this.#e}*keys(){for(var[e]of this)yield e}*values(){for(var[,e]of this)yield e}};function y(e,t=n.default){var r=`${l()}${l()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),o=[],i=`--${r}\r\nContent-Disposition: form-data; name="`;return e.forEach(((e,t)=>"string"==typeof e?o.push(i+d(t)+`"\r\n\r\n${e.replace(/\r(?!\n)|(?<!\r)\n/g,"\r\n")}\r\n`):o.push(i+d(t)+`"; filename="${d(e.name,1)}"\r\nContent-Type: ${e.type||"application/octet-stream"}\r\n\r\n`,e,"\r\n"))),o.push(`--${r}--`),new t(o,{type:"multipart/form-data; boundary="+r})}},function(e,t,r){"use strict";r.r(t),r.d(t,{Blob:function(){return i}});r(84);async function*n(e,t=!0){for(const r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let e=r.byteOffset;const t=r.byteOffset+r.byteLength;for(;e!==t;){const n=Math.min(t-e,65536),o=r.buffer.slice(e,e+n);e+=o.byteLength,yield new Uint8Array(o)}}else yield r;else{let e=0,t=r;for(;e!==t.size;){const r=t.slice(e,Math.min(t.size,e+65536)),n=await r.arrayBuffer();e+=n.byteLength,yield new Uint8Array(n)}}}const o=class e{#t=[];#r="";#n=0;#o="transparent";constructor(t=[],r={}){if("object"!=typeof t||null===t)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if("function"!=typeof t[Symbol.iterator])throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof r&&"function"!=typeof r)throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");null===r&&(r={});const n=new TextEncoder;for(const r of t){let t;t=ArrayBuffer.isView(r)?new Uint8Array(r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)):r instanceof ArrayBuffer?new Uint8Array(r.slice(0)):r instanceof e?r:n.encode(`${r}`);const o=ArrayBuffer.isView(t)?t.byteLength:t.size;o&&(this.#n+=o,this.#t.push(t))}this.#o=`${void 0===r.endings?"transparent":r.endings}`;const o=void 0===r.type?"":String(r.type);this.#r=/^[\x20-\x7E]*$/.test(o)?o:""}get size(){return this.#n}get type(){return this.#r}async text(){const e=new TextDecoder;let t="";for await(const r of n(this.#t,!1))t+=e.decode(r,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){const e=new Uint8Array(this.size);let t=0;for await(const r of n(this.#t,!1))e.set(r,t),t+=r.length;return e.buffer}stream(){const e=n(this.#t,!0);return new globalThis.ReadableStream({type:"bytes",async pull(t){const r=await e.next();r.done?t.close():t.enqueue(r.value)},async cancel(){await e.return()}})}slice(t=0,r=this.size,n=""){const{size:o}=this;let i=t<0?Math.max(o+t,0):Math.min(t,o),a=r<0?Math.max(o+r,0):Math.min(r,o);const s=Math.max(a-i,0),l=this.#t,c=[];let u=0;for(const e of l){if(u>=s)break;const t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(i&&t<=i)i-=t,a-=t;else{let r;ArrayBuffer.isView(e)?(r=e.subarray(i,Math.min(t,a)),u+=r.byteLength):(r=e.slice(i,Math.min(t,a)),u+=r.size),a-=t,c.push(r),i=0}}const d=new e([],{type:String(n).toLowerCase()});return d.#n=s,d.#t=c,d}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&"object"==typeof e&&"function"==typeof e.constructor&&("function"==typeof e.stream||"function"==typeof e.arrayBuffer)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(o.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});const i=o;t.default=i},function(e,t,r){if(!globalThis.ReadableStream)try{const e=r(85),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,r(86)),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch(e){Object.assign(globalThis,r(87))}try{const{Blob:e}=r(88);e&&!e.prototype.stream&&(e.prototype.stream=function(e){let t=0;const r=this;return new ReadableStream({type:"bytes",async pull(e){const n=r.slice(t,Math.min(r.size,t+65536)),o=await n.arrayBuffer();t+=o.byteLength,e.enqueue(new Uint8Array(o)),t===r.size&&e.close()}})})}catch(e){}},function(e){"use strict";e.exports=require("node:process")},function(e){"use strict";e.exports=require("node:stream/web")},function(e,t){var r;r=function(e){"use strict";const t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function r(){}const n="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function o(e){return"object"==typeof e&&null!==e||"function"==typeof e}const i=r,a=Promise,s=Promise.prototype.then,l=Promise.resolve.bind(a),c=Promise.reject.bind(a);function u(e){return new a(e)}function d(e){return l(e)}function p(e){return c(e)}function f(e,t,r){return s.call(e,t,r)}function h(e,t,r){f(f(e,t,r),void 0,i)}function y(e,t){h(e,t)}function b(e,t){h(e,void 0,t)}function g(e,t,r){return f(e,t,r)}function m(e){f(e,void 0,i)}const v=(()=>{const e=n&&n.queueMicrotask;if("function"==typeof e)return e;const t=d(void 0);return e=>f(t,e)})();function _(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function w(e,t,r){try{return d(_(e,t,r))}catch(e){return p(e)}}class S{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const o=e._elements,i=o[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),o[r]=void 0,i}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function E(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?O(e):"closed"===t._state?function(e){O(e),x(e)}(e):C(e,t._storedError)}function T(e,t){return Sr(e._ownerReadableStream,t)}function P(e){"readable"===e._ownerReadableStream._state?A(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){C(e,t)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function R(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function O(e){e._closedPromise=u(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function C(e,t){O(e),A(e,t)}function A(e,t){void 0!==e._closedPromise_reject&&(m(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function x(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const j=t("[[AbortSteps]]"),k=t("[[ErrorSteps]]"),I=t("[[CancelSteps]]"),L=t("[[PullSteps]]"),q=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},D=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function B(e,t){if(void 0!==e&&"object"!=typeof(r=e)&&"function"!=typeof r)throw new TypeError(`${t} is not an object.`);var r}function z(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function M(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function F(e,t,r){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function W(e,t,r){if(void 0===e)throw new TypeError(`${t} is required in '${r}'.`)}function U(e){return Number(e)}function V(e){return 0===e?0:e}function N(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=V(n),!q(n))throw new TypeError(`${t} is not a finite number`);if(n=function(e){return V(D(e))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return q(n)&&0!==n?n:0}function $(e,t){if(!_r(e))throw new TypeError(`${t} is not a ReadableStream.`)}function G(e){return new Y(e)}function H(e,t){e._reader._readRequests.push(t)}function Q(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function K(e){return e._reader._readRequests.length}function Z(e){const t=e._reader;return void 0!==t&&!!X(t)}class Y{constructor(e){if(F(e,1,"ReadableStreamDefaultReader"),$(e,"First parameter"),wr(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");E(this,e),this._readRequests=new S}get closed(){return X(this)?this._closedPromise:p(ee("closed"))}cancel(e){return X(this)?void 0===this._ownerReadableStream?p(R("cancel")):T(this,e):p(ee("cancel"))}read(){if(!X(this))return p(ee("read"));if(void 0===this._ownerReadableStream)return p(R("read from"));let e,t;const r=u(((r,n)=>{e=r,t=n}));return J(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!X(this))throw ee("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");P(this)}}}function X(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof Y}function J(e,t){const r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[L](t)}function ee(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(Y.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Y.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const te=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class re{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?g(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?g(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return p(R("iterate"));let t,r;const n=u(((e,n)=>{t=e,r=n}));return J(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,v((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,P(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,P(e),r(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t._ownerReadableStream)return p(R("finish iterating"));if(!this._preventCancel){const r=T(t,e);return P(t),g(r,(()=>({value:e,done:!0})))}return P(t),d({value:e,done:!0})}}const ne={next(){return oe(this)?this._asyncIteratorImpl.next():p(ie("next"))},return(e){return oe(this)?this._asyncIteratorImpl.return(e):p(ie("return"))}};function oe(e){if(!o(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof re}catch(e){return!1}}function ie(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==te&&Object.setPrototypeOf(ne,te);const ae=Number.isNaN||function(e){return e!=e};function se(e){return e.slice()}function le(e,t,r,n,o){new Uint8Array(e).set(new Uint8Array(r,n,o),t)}function ce(e,t,r){if(e.slice)return e.slice(t,r);const n=r-t,o=new ArrayBuffer(n);return le(o,0,e,t,n),o}function ue(e){const t=ce(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function de(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function pe(e,t,r){if("number"!=typeof(n=r)||ae(n)||n<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var n;e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function fe(e){e._queue=new S,e._queueTotalSize=0}class he{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ge(this))throw Me("view");return this._view}respond(e){if(!ge(this))throw Me("respond");if(F(e,1,"respond"),e=N(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,De(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!ge(this))throw Me("respondWithNewView");if(F(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");e.buffer,Be(this._associatedReadableByteStreamController,e)}}Object.defineProperties(he.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(he.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class ye{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!be(this))throw Fe("byobRequest");return Le(this)}get desiredSize(){if(!be(this))throw Fe("desiredSize");return qe(this)}close(){if(!be(this))throw Fe("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);je(this)}enqueue(e){if(!be(this))throw Fe("enqueue");if(F(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);ke(this,e)}error(e){if(!be(this))throw Fe("error");Ie(this,e)}[I](e){ve(this),fe(this);const t=this._cancelAlgorithm(e);return xe(this),t}[L](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength,Pe(this);const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(r)}const r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}const n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}H(t,e),me(this)}}function be(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof ye}function ge(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof he}function me(e){const t=function(e){const t=e._controlledReadableByteStream;return"readable"===t._state&&(!e._closeRequested&&(!!e._started&&(!!(Z(t)&&K(t)>0)||(!!(Ne(t)&&Ve(t)>0)||qe(e)>0))))}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,h(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,me(e))}),(t=>{Ie(e,t)}))))}function ve(e){Re(e),e._pendingPullIntos=new S}function _e(e,t){let r=!1;"closed"===e._state&&(r=!0);const n=we(t);"default"===t.readerType?Q(e,n,r):function(e,t,r){const n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function we(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Se(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Ee(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,o=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+o,a=i-i%r;let s=o,l=!1;a>n&&(s=a-t.bytesFilled,l=!0);const c=e._queue;for(;s>0;){const r=c.peek(),n=Math.min(s,r.byteLength),o=t.byteOffset+t.bytesFilled;le(t.buffer,o,r.buffer,r.byteOffset,n),r.byteLength===n?c.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,Te(0,n,t),s-=n}return l}function Te(e,t,r){r.bytesFilled+=t}function Pe(e){0===e._queueTotalSize&&e._closeRequested?(xe(e),Er(e._controlledReadableByteStream)):me(e)}function Re(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Oe(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();Ee(e,t)&&(Ae(e),_e(e._controlledReadableByteStream,t))}}function Ce(e,t){const r=e._pendingPullIntos.peek();Re(e),"closed"===e._controlledReadableByteStream._state?function(e,t){const r=e._controlledReadableByteStream;if(Ne(r))for(;Ve(r)>0;)_e(r,Ae(e))}(e):function(e,t,r){if(Te(0,t,r),r.bytesFilled<r.elementSize)return;Ae(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled,o=ce(r.buffer,t-n,t);Se(e,o,0,o.byteLength)}r.bytesFilled-=n,_e(e._controlledReadableByteStream,r),Oe(e)}(e,t,r),me(e)}function Ae(e){return e._pendingPullIntos.shift()}function xe(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function je(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ie(e,t),t}xe(e),Er(t)}}function ke(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;const n=t.buffer,o=t.byteOffset,i=t.byteLength,a=n;if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();t.buffer,t.buffer=t.buffer}Re(e),Z(r)?0===K(r)?Se(e,a,o,i):(e._pendingPullIntos.length>0&&Ae(e),Q(r,new Uint8Array(a,o,i),!1)):Ne(r)?(Se(e,a,o,i),Oe(e)):Se(e,a,o,i),me(e)}function Ie(e,t){const r=e._controlledReadableByteStream;"readable"===r._state&&(ve(e),fe(e),xe(e),Tr(r,t))}function Le(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),n=Object.create(he.prototype);!function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}(n,e,r),e._byobRequest=n}return e._byobRequest}function qe(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function De(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=r.buffer,Ce(e,t)}function Be(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const n=t.byteLength;r.buffer=t.buffer,Ce(e,n)}function ze(e,t,r,n,o,i,a){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,fe(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,t._autoAllocateChunkSize=a,t._pendingPullIntos=new S,e._readableStreamController=t,h(d(r()),(()=>{t._started=!0,me(t)}),(e=>{Ie(t,e)}))}function Me(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Fe(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function We(e){return new $e(e)}function Ue(e,t){e._reader._readIntoRequests.push(t)}function Ve(e){return e._reader._readIntoRequests.length}function Ne(e){const t=e._reader;return void 0!==t&&!!Ge(t)}Object.defineProperties(ye.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ye.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class $e{constructor(e){if(F(e,1,"ReadableStreamBYOBReader"),$(e,"First parameter"),wr(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!be(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");E(this,e),this._readIntoRequests=new S}get closed(){return Ge(this)?this._closedPromise:p(Qe("closed"))}cancel(e){return Ge(this)?void 0===this._ownerReadableStream?p(R("cancel")):T(this,e):p(Qe("cancel"))}read(e){if(!Ge(this))return p(Qe("read"));if(!ArrayBuffer.isView(e))return p(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return p(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return p(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return p(R("read from"));let t,r;const n=u(((e,n)=>{t=e,r=n}));return He(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),n}releaseLock(){if(!Ge(this))throw Qe("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");P(this)}}}function Ge(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof $e}function He(e,t,r){const n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(e,t,r){const n=e._controlledReadableByteStream;let o=1;t.constructor!==DataView&&(o=t.constructor.BYTES_PER_ELEMENT);const i=t.constructor,a=t.buffer,s={buffer:a,bufferByteLength:a.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:o,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(s),void Ue(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(Ee(e,s)){const t=we(s);return Pe(e),void r._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return Ie(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(s),Ue(n,r),me(e)}else{const e=new i(s.buffer,s.byteOffset,0);r._closeSteps(e)}}(n._readableStreamController,t,r)}function Qe(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Ke(e,t){const{highWaterMark:r}=e;if(void 0===r)return t;if(ae(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Ze(e){const{size:t}=e;return t||(()=>1)}function Ye(e,t){B(e,t);const r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:U(r),size:void 0===n?void 0:Xe(n,`${t} has member 'size' that`)}}function Xe(e,t){return z(e,t),t=>U(e(t))}function Je(e,t,r){return z(e,r),r=>w(e,t,[r])}function et(e,t,r){return z(e,r),()=>w(e,t,[])}function tt(e,t,r){return z(e,r),r=>_(e,t,[r])}function rt(e,t,r){return z(e,r),(r,n)=>w(e,t,[r,n])}function nt(e,t){if(!lt(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties($e.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty($e.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const ot="function"==typeof AbortController;class it{constructor(e={},t={}){void 0===e?e=null:M(e,"First parameter");const r=Ye(t,"Second parameter"),n=function(e,t){B(e,t);const r=null==e?void 0:e.abort,n=null==e?void 0:e.close,o=null==e?void 0:e.start,i=null==e?void 0:e.type,a=null==e?void 0:e.write;return{abort:void 0===r?void 0:Je(r,e,`${t} has member 'abort' that`),close:void 0===n?void 0:et(n,e,`${t} has member 'close' that`),start:void 0===o?void 0:tt(o,e,`${t} has member 'start' that`),write:void 0===a?void 0:rt(a,e,`${t} has member 'write' that`),type:i}}(e,"First parameter");if(st(this),void 0!==n.type)throw new RangeError("Invalid type is specified");const o=Ze(r);!function(e,t,r,n){const o=Object.create(Rt.prototype);let i=()=>{},a=()=>d(void 0),s=()=>d(void 0),l=()=>d(void 0);void 0!==t.start&&(i=()=>t.start(o)),void 0!==t.write&&(a=e=>t.write(e,o)),void 0!==t.close&&(s=()=>t.close()),void 0!==t.abort&&(l=e=>t.abort(e)),Ct(e,o,i,a,s,l,r,n)}(this,n,Ke(r,1),o)}get locked(){if(!lt(this))throw qt("locked");return ct(this)}abort(e){return lt(this)?ct(this)?p(new TypeError("Cannot abort a stream that already has a writer")):ut(this,e):p(qt("abort"))}close(){return lt(this)?ct(this)?p(new TypeError("Cannot close a stream that already has a writer")):yt(this)?p(new TypeError("Cannot close an already-closing stream")):dt(this):p(qt("close"))}getWriter(){if(!lt(this))throw qt("getWriter");return at(this)}}function at(e){return new mt(e)}function st(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new S,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function lt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof it}function ct(e){return void 0!==e._writer}function ut(e,t){var r;if("closed"===e._state||"errored"===e._state)return d(void 0);e._writableStreamController._abortReason=t,null===(r=e._writableStreamController._abortController)||void 0===r||r.abort();const n=e._state;if("closed"===n||"errored"===n)return d(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let o=!1;"erroring"===n&&(o=!0,t=void 0);const i=u(((r,n)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:o}}));return e._pendingAbortRequest._promise=i,o||ft(e,t),i}function dt(e){const t=e._state;if("closed"===t||"errored"===t)return p(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=u(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;var o;return void 0!==n&&e._backpressure&&"writable"===t&&Ht(n),pe(o=e._writableStreamController,Pt,0),jt(o),r}function pt(e,t){"writable"!==e._state?ht(e):ft(e,t)}function ft(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&St(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&r._started&&ht(e)}function ht(e){e._state="errored",e._writableStreamController[k]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new S,void 0===e._pendingAbortRequest)return void bt(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void bt(e);h(e._writableStreamController[j](r._reason),(()=>{r._resolve(),bt(e)}),(t=>{r._reject(t),bt(e)}))}function yt(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function bt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&Wt(t,e._storedError)}function gt(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){Vt(e)}(r):Ht(r)),e._backpressure=t}Object.defineProperties(it.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(it.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});class mt{constructor(e){if(F(e,1,"WritableStreamDefaultWriter"),nt(e,"First parameter"),ct(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!yt(e)&&e._backpressure?Vt(this):$t(this),Mt(this);else if("erroring"===t)Nt(this,e._storedError),Mt(this);else if("closed"===t)$t(this),Mt(r=this),Ut(r);else{const t=e._storedError;Nt(this,t),Ft(this,t)}var r}get closed(){return vt(this)?this._closedPromise:p(Bt("closed"))}get desiredSize(){if(!vt(this))throw Bt("desiredSize");if(void 0===this._ownerWritableStream)throw zt("desiredSize");return function(e){const t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:xt(t._writableStreamController)}(this)}get ready(){return vt(this)?this._readyPromise:p(Bt("ready"))}abort(e){return vt(this)?void 0===this._ownerWritableStream?p(zt("abort")):function(e,t){return ut(e._ownerWritableStream,t)}(this,e):p(Bt("abort"))}close(){if(!vt(this))return p(Bt("close"));const e=this._ownerWritableStream;return void 0===e?p(zt("close")):yt(e)?p(new TypeError("Cannot close an already-closing stream")):_t(this)}releaseLock(){if(!vt(this))throw Bt("releaseLock");void 0!==this._ownerWritableStream&&Et(this)}write(e){return vt(this)?void 0===this._ownerWritableStream?p(zt("write to")):Tt(this,e):p(Bt("write"))}}function vt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof mt}function _t(e){return dt(e._ownerWritableStream)}function wt(e,t){"pending"===e._closedPromiseState?Wt(e,t):function(e,t){Ft(e,t)}(e,t)}function St(e,t){"pending"===e._readyPromiseState?Gt(e,t):function(e,t){Nt(e,t)}(e,t)}function Et(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");St(e,r),wt(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Tt(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,o=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return kt(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return p(zt("write to"));const i=r._state;if("errored"===i)return p(r._storedError);if(yt(r)||"closed"===i)return p(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return p(r._storedError);const a=function(e){return u(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){try{pe(e,t,r)}catch(t){return void kt(e,t)}const n=e._controlledWritableStream;yt(n)||"writable"!==n._state||gt(n,It(e)),jt(e)}(n,t,o),a}Object.defineProperties(mt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(mt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Pt={};class Rt{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Ot(this))throw Dt("abortReason");return this._abortReason}get signal(){if(!Ot(this))throw Dt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!Ot(this))throw Dt("error");"writable"===this._controlledWritableStream._state&&Lt(this,e)}[j](e){const t=this._abortAlgorithm(e);return At(this),t}[k](){fe(this)}}function Ot(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof Rt}function Ct(e,t,r,n,o,i,a,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,fe(t),t._abortReason=void 0,t._abortController=function(){if(ot)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._writeAlgorithm=n,t._closeAlgorithm=o,t._abortAlgorithm=i;const l=It(t);gt(e,l),h(d(r()),(()=>{t._started=!0,jt(t)}),(r=>{t._started=!0,pt(e,r)}))}function At(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function xt(e){return e._strategyHWM-e._queueTotalSize}function jt(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void ht(t);if(0===e._queue.length)return;const r=e._queue.peek().value;r===Pt?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),de(e);const r=e._closeAlgorithm();At(e),h(r,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&Ut(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),pt(e,t)}(t,e)}))}(e):function(e,t){const r=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(r),h(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(de(e),!yt(r)&&"writable"===t){const t=It(e);gt(r,t)}jt(e)}),(t=>{"writable"===r._state&&At(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,pt(e,t)}(r,t)}))}(e,r)}function kt(e,t){"writable"===e._controlledWritableStream._state&&Lt(e,t)}function It(e){return xt(e)<=0}function Lt(e,t){const r=e._controlledWritableStream;At(e),ft(r,t)}function qt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Dt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Bt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function zt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Mt(e){e._closedPromise=u(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function Ft(e,t){Mt(e),Wt(e,t)}function Wt(e,t){void 0!==e._closedPromise_reject&&(m(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Ut(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Vt(e){e._readyPromise=u(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function Nt(e,t){Vt(e),Gt(e,t)}function $t(e){Vt(e),Ht(e)}function Gt(e,t){void 0!==e._readyPromise_reject&&(m(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Ht(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Rt.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Rt.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Qt="undefined"!=typeof DOMException?DOMException:void 0,Kt=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(Qt)?Qt:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Zt(e,t,n,o,i,a){const s=G(e),l=at(t);e._disturbed=!0;let c=!1,g=d(void 0);return u(((v,_)=>{let w;if(void 0!==a){if(w=()=>{const r=new Kt("Aborted","AbortError"),n=[];o||n.push((()=>"writable"===t._state?ut(t,r):d(void 0))),i||n.push((()=>"readable"===e._state?Sr(e,r):d(void 0))),C((()=>Promise.all(n.map((e=>e())))),!0,r)},a.aborted)return void w();a.addEventListener("abort",w)}var S,E,T;if(O(e,s._closedPromise,(e=>{o?A(!0,e):C((()=>ut(t,e)),!0,e)})),O(t,l._closedPromise,(t=>{i?A(!0,t):C((()=>Sr(e,t)),!0,t)})),S=e,E=s._closedPromise,T=()=>{n?A():C((()=>function(e){const t=e._ownerWritableStream,r=t._state;return yt(t)||"closed"===r?d(void 0):"errored"===r?p(t._storedError):_t(e)}(l)))},"closed"===S._state?T():y(E,T),yt(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");i?A(!0,t):C((()=>Sr(e,t)),!0,t)}function R(){const e=g;return f(g,(()=>e!==g?R():void 0))}function O(e,t,r){"errored"===e._state?r(e._storedError):b(t,r)}function C(e,r,n){function o(){h(e(),(()=>x(r,n)),(e=>x(!0,e)))}c||(c=!0,"writable"!==t._state||yt(t)?o():y(R(),o))}function A(e,r){c||(c=!0,"writable"!==t._state||yt(t)?x(e,r):y(R(),(()=>x(e,r))))}function x(e,t){Et(l),P(s),void 0!==a&&a.removeEventListener("abort",w),e?_(t):v(void 0)}m(u(((e,t)=>{!function n(o){o?e():f(c?d(!0):f(l._readyPromise,(()=>u(((e,t)=>{J(s,{_chunkSteps:t=>{g=f(Tt(l,t),void 0,r),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})))),n,t)}(!1)})))}))}class Yt{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Xt(this))throw lr("desiredSize");return ir(this)}close(){if(!Xt(this))throw lr("close");if(!ar(this))throw new TypeError("The stream is not in a state that permits close");rr(this)}enqueue(e){if(!Xt(this))throw lr("enqueue");if(!ar(this))throw new TypeError("The stream is not in a state that permits enqueue");return nr(this,e)}error(e){if(!Xt(this))throw lr("error");or(this,e)}[I](e){fe(this);const t=this._cancelAlgorithm(e);return tr(this),t}[L](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=de(this);this._closeRequested&&0===this._queue.length?(tr(this),Er(t)):Jt(this),e._chunkSteps(r)}else H(t,e),Jt(this)}}function Xt(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof Yt}function Jt(e){er(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,h(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Jt(e))}),(t=>{or(e,t)}))))}function er(e){const t=e._controlledReadableStream;return!!ar(e)&&(!!e._started&&(!!(wr(t)&&K(t)>0)||ir(e)>0))}function tr(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function rr(e){if(!ar(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(tr(e),Er(t))}function nr(e,t){if(!ar(e))return;const r=e._controlledReadableStream;if(wr(r)&&K(r)>0)Q(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw or(e,t),t}try{pe(e,t,r)}catch(t){throw or(e,t),t}}Jt(e)}function or(e,t){const r=e._controlledReadableStream;"readable"===r._state&&(fe(e),tr(e),Tr(r,t))}function ir(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function ar(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function sr(e,t,r,n,o,i,a){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,fe(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=a,t._strategyHWM=i,t._pullAlgorithm=n,t._cancelAlgorithm=o,e._readableStreamController=t,h(d(r()),(()=>{t._started=!0,Jt(t)}),(e=>{or(t,e)}))}function lr(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function cr(e,t){return be(e._readableStreamController)?function(e){let t,r,n,o,i,a=G(e),s=!1,l=!1,c=!1,p=!1,f=!1;const h=u((e=>{i=e}));function y(e){b(e._closedPromise,(t=>{e===a&&(Ie(n._readableStreamController,t),Ie(o._readableStreamController,t),p&&f||i(void 0))}))}function g(){Ge(a)&&(P(a),a=G(e),y(a)),J(a,{_chunkSteps:t=>{v((()=>{l=!1,c=!1;const r=t;let a=t;if(!p&&!f)try{a=ue(t)}catch(t){return Ie(n._readableStreamController,t),Ie(o._readableStreamController,t),void i(Sr(e,t))}p||ke(n._readableStreamController,r),f||ke(o._readableStreamController,a),s=!1,l?_():c&&w()}))},_closeSteps:()=>{s=!1,p||je(n._readableStreamController),f||je(o._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&De(n._readableStreamController,0),o._readableStreamController._pendingPullIntos.length>0&&De(o._readableStreamController,0),p&&f||i(void 0)},_errorSteps:()=>{s=!1}})}function m(t,r){X(a)&&(P(a),a=We(e),y(a));const u=r?o:n,d=r?n:o;He(a,t,{_chunkSteps:t=>{v((()=>{l=!1,c=!1;const n=r?f:p;if(r?p:f)n||Be(u._readableStreamController,t);else{let r;try{r=ue(t)}catch(t){return Ie(u._readableStreamController,t),Ie(d._readableStreamController,t),void i(Sr(e,t))}n||Be(u._readableStreamController,t),ke(d._readableStreamController,r)}s=!1,l?_():c&&w()}))},_closeSteps:e=>{s=!1;const t=r?f:p,n=r?p:f;t||je(u._readableStreamController),n||je(d._readableStreamController),void 0!==e&&(t||Be(u._readableStreamController,e),!n&&d._readableStreamController._pendingPullIntos.length>0&&De(d._readableStreamController,0)),t&&n||i(void 0)},_errorSteps:()=>{s=!1}})}function _(){if(s)return l=!0,d(void 0);s=!0;const e=Le(n._readableStreamController);return null===e?g():m(e._view,!1),d(void 0)}function w(){if(s)return c=!0,d(void 0);s=!0;const e=Le(o._readableStreamController);return null===e?g():m(e._view,!0),d(void 0)}function S(n){if(p=!0,t=n,f){const n=se([t,r]),o=Sr(e,n);i(o)}return h}function E(n){if(f=!0,r=n,p){const n=se([t,r]),o=Sr(e,n);i(o)}return h}function T(){}return n=mr(T,_,S),o=mr(T,w,E),y(a),[n,o]}(e):function(e,t){const r=G(e);let n,o,i,a,s,l=!1,c=!1,p=!1,f=!1;const h=u((e=>{s=e}));function y(){return l?(c=!0,d(void 0)):(l=!0,J(r,{_chunkSteps:e=>{v((()=>{c=!1;const t=e,r=e;p||nr(i._readableStreamController,t),f||nr(a._readableStreamController,r),l=!1,c&&y()}))},_closeSteps:()=>{l=!1,p||rr(i._readableStreamController),f||rr(a._readableStreamController),p&&f||s(void 0)},_errorSteps:()=>{l=!1}}),d(void 0))}function g(t){if(p=!0,n=t,f){const t=se([n,o]),r=Sr(e,t);s(r)}return h}function m(t){if(f=!0,o=t,p){const t=se([n,o]),r=Sr(e,t);s(r)}return h}function _(){}return i=gr(_,y,g),a=gr(_,y,m),b(r._closedPromise,(e=>{or(i._readableStreamController,e),or(a._readableStreamController,e),p&&f||s(void 0)})),[i,a]}(e)}function ur(e,t,r){return z(e,r),r=>w(e,t,[r])}function dr(e,t,r){return z(e,r),r=>w(e,t,[r])}function pr(e,t,r){return z(e,r),r=>_(e,t,[r])}function fr(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function hr(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function yr(e,t){B(e,t);const r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,o=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(i,`${t} has member 'signal' that`),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(o),signal:i}}Object.defineProperties(Yt.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Yt.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class br{constructor(e={},t={}){void 0===e?e=null:M(e,"First parameter");const r=Ye(t,"Second parameter"),n=function(e,t){B(e,t);const r=e,n=null==r?void 0:r.autoAllocateChunkSize,o=null==r?void 0:r.cancel,i=null==r?void 0:r.pull,a=null==r?void 0:r.start,s=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:N(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===o?void 0:ur(o,r,`${t} has member 'cancel' that`),pull:void 0===i?void 0:dr(i,r,`${t} has member 'pull' that`),start:void 0===a?void 0:pr(a,r,`${t} has member 'start' that`),type:void 0===s?void 0:fr(s,`${t} has member 'type' that`)}}(e,"First parameter");if(vr(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){const n=Object.create(ye.prototype);let o=()=>{},i=()=>d(void 0),a=()=>d(void 0);void 0!==t.start&&(o=()=>t.start(n)),void 0!==t.pull&&(i=()=>t.pull(n)),void 0!==t.cancel&&(a=e=>t.cancel(e));const s=t.autoAllocateChunkSize;if(0===s)throw new TypeError("autoAllocateChunkSize must be greater than 0");ze(e,n,o,i,a,r,s)}(this,n,Ke(r,0))}else{const e=Ze(r);!function(e,t,r,n){const o=Object.create(Yt.prototype);let i=()=>{},a=()=>d(void 0),s=()=>d(void 0);void 0!==t.start&&(i=()=>t.start(o)),void 0!==t.pull&&(a=()=>t.pull(o)),void 0!==t.cancel&&(s=e=>t.cancel(e)),sr(e,o,i,a,s,r,n)}(this,n,Ke(r,1),e)}}get locked(){if(!_r(this))throw Pr("locked");return wr(this)}cancel(e){return _r(this)?wr(this)?p(new TypeError("Cannot cancel a stream that already has a reader")):Sr(this,e):p(Pr("cancel"))}getReader(e){if(!_r(this))throw Pr("getReader");return void 0===function(e,t){B(e,t);const r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:hr(r,`${t} has member 'mode' that`)}}(e,"First parameter").mode?G(this):We(this)}pipeThrough(e,t={}){if(!_r(this))throw Pr("pipeThrough");F(e,1,"pipeThrough");const r=function(e,t){B(e,t);const r=null==e?void 0:e.readable;W(r,"readable","ReadableWritablePair"),$(r,`${t} has member 'readable' that`);const n=null==e?void 0:e.writable;return W(n,"writable","ReadableWritablePair"),nt(n,`${t} has member 'writable' that`),{readable:r,writable:n}}(e,"First parameter"),n=yr(t,"Second parameter");if(wr(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(ct(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return m(Zt(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){if(!_r(this))return p(Pr("pipeTo"));if(void 0===e)return p("Parameter 1 is required in 'pipeTo'.");if(!lt(e))return p(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=yr(t,"Second parameter")}catch(e){return p(e)}return wr(this)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):ct(e)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Zt(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!_r(this))throw Pr("tee");return se(cr(this))}values(e){if(!_r(this))throw Pr("values");return function(e,t){const r=G(e),n=new re(r,t),o=Object.create(ne);return o._asyncIteratorImpl=n,o}(this,function(e,t){B(e,t);const r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}(e,"First parameter").preventCancel)}}function gr(e,t,r,n=1,o=(()=>1)){const i=Object.create(br.prototype);return vr(i),sr(i,Object.create(Yt.prototype),e,t,r,n,o),i}function mr(e,t,r){const n=Object.create(br.prototype);return vr(n),ze(n,Object.create(ye.prototype),e,t,r,0,void 0),n}function vr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function _r(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof br}function wr(e){return void 0!==e._reader}function Sr(e,t){if(e._disturbed=!0,"closed"===e._state)return d(void 0);if("errored"===e._state)return p(e._storedError);Er(e);const n=e._reader;return void 0!==n&&Ge(n)&&(n._readIntoRequests.forEach((e=>{e._closeSteps(void 0)})),n._readIntoRequests=new S),g(e._readableStreamController[I](t),r)}function Er(e){e._state="closed";const t=e._reader;void 0!==t&&(x(t),X(t)&&(t._readRequests.forEach((e=>{e._closeSteps()})),t._readRequests=new S))}function Tr(e,t){e._state="errored",e._storedError=t;const r=e._reader;void 0!==r&&(A(r,t),X(r)?(r._readRequests.forEach((e=>{e._errorSteps(t)})),r._readRequests=new S):(r._readIntoRequests.forEach((e=>{e._errorSteps(t)})),r._readIntoRequests=new S))}function Pr(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Rr(e,t){B(e,t);const r=null==e?void 0:e.highWaterMark;return W(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:U(r)}}Object.defineProperties(br.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(br.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(br.prototype,t.asyncIterator,{value:br.prototype.values,writable:!0,configurable:!0});const Or=e=>e.byteLength;try{Object.defineProperty(Or,"name",{value:"size",configurable:!0})}catch(e){}class Cr{constructor(e){F(e,1,"ByteLengthQueuingStrategy"),e=Rr(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!xr(this))throw Ar("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!xr(this))throw Ar("size");return Or}}function Ar(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function xr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof Cr}Object.defineProperties(Cr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Cr.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const jr=()=>1;try{Object.defineProperty(jr,"name",{value:"size",configurable:!0})}catch(e){}class kr{constructor(e){F(e,1,"CountQueuingStrategy"),e=Rr(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Lr(this))throw Ir("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Lr(this))throw Ir("size");return jr}}function Ir(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Lr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof kr}function qr(e,t,r){return z(e,r),r=>w(e,t,[r])}function Dr(e,t,r){return z(e,r),r=>_(e,t,[r])}function Br(e,t,r){return z(e,r),(r,n)=>w(e,t,[r,n])}Object.defineProperties(kr.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(kr.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class zr{constructor(e={},t={},r={}){void 0===e&&(e=null);const n=Ye(t,"Second parameter"),o=Ye(r,"Third parameter"),i=function(e,t){B(e,t);const r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,o=null==e?void 0:e.start,i=null==e?void 0:e.transform,a=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:qr(r,e,`${t} has member 'flush' that`),readableType:n,start:void 0===o?void 0:Dr(o,e,`${t} has member 'start' that`),transform:void 0===i?void 0:Br(i,e,`${t} has member 'transform' that`),writableType:a}}(e,"First parameter");if(void 0!==i.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==i.writableType)throw new RangeError("Invalid writableType specified");const a=Ke(o,0),s=Ze(o),l=Ke(n,1),c=Ze(n);let f;!function(e,t,r,n,o,i){function a(){return t}function s(t){return function(e,t){const r=e._transformStreamController;return e._backpressure?g(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return Hr(r,t)})):Hr(r,t)}(e,t)}function l(t){return function(e,t){return Fr(e,t),d(void 0)}(e,t)}function c(){return function(e){const t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return $r(r),g(n,(()=>{if("errored"===t._state)throw t._storedError;rr(t._readableStreamController)}),(r=>{throw Fr(e,r),t._storedError}))}(e)}function u(){return function(e){return Ur(e,!1),e._backpressureChangePromise}(e)}function p(t){return Wr(e,t),d(void 0)}e._writable=function(e,t,r,n,o=1,i=(()=>1)){const a=Object.create(it.prototype);return st(a),Ct(a,Object.create(Rt.prototype),e,t,r,n,o,i),a}(a,s,c,l,r,n),e._readable=gr(a,u,p,o,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,Ur(e,!0),e._transformStreamController=void 0}(this,u((e=>{f=e})),l,c,a,s),function(e,t){const r=Object.create(Vr.prototype);let n=e=>{try{return Gr(r,e),d(void 0)}catch(e){return p(e)}},o=()=>d(void 0);void 0!==t.transform&&(n=e=>t.transform(e,r)),void 0!==t.flush&&(o=()=>t.flush(r)),function(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}(e,r,n,o)}(this,i),void 0!==i.start?f(i.start(this._transformStreamController)):f(void 0)}get readable(){if(!Mr(this))throw Kr("readable");return this._readable}get writable(){if(!Mr(this))throw Kr("writable");return this._writable}}function Mr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof zr}function Fr(e,t){or(e._readable._readableStreamController,t),Wr(e,t)}function Wr(e,t){$r(e._transformStreamController),kt(e._writable._writableStreamController,t),e._backpressure&&Ur(e,!1)}function Ur(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=u((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(zr.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(zr.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});class Vr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Nr(this))throw Qr("desiredSize");return ir(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!Nr(this))throw Qr("enqueue");Gr(this,e)}error(e){if(!Nr(this))throw Qr("error");var t;t=e,Fr(this._controlledTransformStream,t)}terminate(){if(!Nr(this))throw Qr("terminate");!function(e){const t=e._controlledTransformStream;rr(t._readable._readableStreamController);const r=new TypeError("TransformStream terminated");Wr(t,r)}(this)}}function Nr(e){return!!o(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof Vr}function $r(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Gr(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!ar(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{nr(n,t)}catch(e){throw Wr(r,e),r._readable._storedError}const o=function(e){return!er(e)}(n);o!==r._backpressure&&Ur(r,!0)}function Hr(e,t){return g(e._transformAlgorithm(t),void 0,(t=>{throw Fr(e._controlledTransformStream,t),t}))}function Qr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Kr(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(Vr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(Vr.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=Cr,e.CountQueuingStrategy=kr,e.ReadableByteStreamController=ye,e.ReadableStream=br,e.ReadableStreamBYOBReader=$e,e.ReadableStreamBYOBRequest=he,e.ReadableStreamDefaultController=Yt,e.ReadableStreamDefaultReader=Y,e.TransformStream=zr,e.TransformStreamDefaultController=Vr,e.WritableStream=it,e.WritableStreamDefaultController=Rt,e.WritableStreamDefaultWriter=mt,Object.defineProperty(e,"__esModule",{value:!0})},r(t)},function(e){"use strict";e.exports=require("buffer")},function(e,t,r){"use strict";r.r(t),r.d(t,{File:function(){return i}});var n=r(83);const o=class extends n.default{#i=0;#a="";constructor(e,t,r={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(e,r),null===r&&(r={});const n=void 0===r.lastModified?Date.now():Number(r.lastModified);Number.isNaN(n)||(this.#i=n),this.#a=String(t)}get name(){return this.#a}get lastModified(){return this.#i}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](e){return!!e&&e instanceof n.default&&/^(File)$/.test(e[Symbol.toStringTag])}},i=o;t.default=i},function(e,t,r){"use strict";r.r(t),r.d(t,{Blob:function(){return s.default},File:function(){return a.default},blobFrom:function(){return u},blobFromSync:function(){return c},default:function(){return b},fileFrom:function(){return d},fileFromSync:function(){return p}});var n=require("node:fs"),o=require("node:path"),i=r(91),a=r(89),s=r(83);const{stat:l}=n.promises,c=(e,t)=>f((0,n.statSync)(e),e,t),u=(e,t)=>l(e).then((r=>f(r,e,t))),d=(e,t)=>l(e).then((r=>h(r,e,t))),p=(e,t)=>h((0,n.statSync)(e),e,t),f=(e,t,r="")=>new s.default([new y({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],{type:r}),h=(e,t,r="")=>new a.default([new y({path:t,size:e.size,lastModified:e.mtimeMs,start:0})],(0,o.basename)(t),{type:r,lastModified:e.mtimeMs});class y{#s;#l;constructor(e){this.#s=e.path,this.#l=e.start,this.size=e.size,this.lastModified=e.lastModified,this.originalSize=void 0===e.originalSize?e.size:e.originalSize}slice(e,t){return new y({path:this.#s,lastModified:this.lastModified,originalSize:this.originalSize,size:t-e,start:this.#l+e})}async*stream(){const{mtimeMs:e,size:t}=await l(this.#s);if(e>this.lastModified||this.originalSize!==t)throw new i("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,n.createReadStream)(this.#s,{start:this.#l,end:this.#l+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}var b=c},function(e,t,r){if(!globalThis.DOMException)try{const{MessageChannel:e}=r(92),t=(new e).port1,n=new ArrayBuffer;t.postMessage(n,[n,n])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}e.exports=globalThis.DOMException},function(e){"use strict";e.exports=require("worker_threads")},function(e,t,r){var n=r(94),o=r(98),i=r(60),a=r(11),s=r(103),l=r(104),c=r(95),u=r(106),d=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||u(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!n(e).length;for(var r in e)if(d.call(e,r))return!1;return!0}},function(e,t,r){var n=r(95),o=r(96),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e){var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},function(e,t,r){var n=r(97)(Object.keys,Object);e.exports=n},function(e){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(99),o=r(50),i=r(100),a=r(101),s=r(102),l=r(3),c=r(36),u="[object Map]",d="[object Promise]",p="[object Set]",f="[object WeakMap]",h="[object DataView]",y=c(n),b=c(o),g=c(i),m=c(a),v=c(s),_=l;(n&&_(new n(new ArrayBuffer(1)))!=h||o&&_(new o)!=u||i&&_(i.resolve())!=d||a&&_(new a)!=p||s&&_(new s)!=f)&&(_=function(e){var t=l(e),r="[object Object]"==t?e.constructor:void 0,n=r?c(r):"";if(n)switch(n){case y:return h;case b:return u;case g:return d;case m:return p;case v:return f}return t}),e.exports=_},function(e,t,r){var n=r(32)(r(5),"DataView");e.exports=n},function(e,t,r){var n=r(32)(r(5),"Promise");e.exports=n},function(e,t,r){var n=r(32)(r(5),"Set");e.exports=n},function(e,t,r){var n=r(32)(r(5),"WeakMap");e.exports=n},function(e,t,r){var n=r(2),o=r(63);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},function(e,t,r){e=r.nmd(e);var n=r(5),o=r(105),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?n.Buffer:void 0,l=(s?s.isBuffer:void 0)||o;e.exports=l},function(e){e.exports=function(){return!1}},function(e,t,r){var n=r(107),o=r(108),i=r(109),a=i&&i.isTypedArray,s=a?o(a):n;e.exports=s},function(e,t,r){var n=r(3),o=r(63),i=r(12),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[n(e)]}},function(e){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){e=r.nmd(e);var n=r(6),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},function(e,t,r){var n=r(11);e.exports=function(){if(!arguments.length)return[];var e=arguments[0];return n(e)?e:[e]}},function(e,t,r){var n=r(112);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},function(e,t,r){var n=r(113),o=r(114);e.exports=function e(t,r,i,a,s){var l=-1,c=t.length;for(i||(i=o),s||(s=[]);++l<c;){var u=t[l];r>0&&i(u)?r>1?e(u,r-1,i,a,s):n(s,u):a||(s[s.length]=u)}return s}},function(e){e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},function(e,t,r){var n=r(4),o=r(60),i=r(11),a=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}}],r={};function n(e){var o=r[e];if(void 0!==o)return o.exports;var i=r[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=t,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return e+"-node.min.js"},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},e={0:1},n.f.require=function(t,r){e[t]||function(t){var r=t.modules,o=t.ids,i=t.runtime;for(var a in r)n.o(r,a)&&(n.m[a]=r[a]);i&&i(n);for(var s=0;s<o.length;s++)e[o[s]]=1}(require("./"+n.u(t)))};var o={};!function(){"use strict";n.r(o),n.d(o,{default:function(){return as}});var e={};n.r(e),n.d(e,{adpEndpoint:function(){return Dt},autocompleteEndpoint:function(){return Ft},batchAdpQueryEndpoint:function(){return Bt},batchChargingAvailabilityQueryEndpoint:function(){return Vt},batchNearbySearchQueryEndpoint:function(){return Mt},batchReachableRangeQueryEndpoint:function(){return Xt},batchReverseGeocodeQueryEndpoint:function(){return kt},batchRoutingEndpoint:function(){return Qt},batchRoutingQueryEndpoint:function(){return Ht},batchSearchEndpoint:function(){return Ot},batchSearchQueryEndpoint:function(){return At},batchStructuredGeocodeQueryEndpoint:function(){return qt},batchSyncRoutingEndpoint:function(){return Kt},batchSyncSearchEndpoint:function(){return Ct},calculateReachableRangeEndpoint:function(){return Gt},captionEndpoint:function(){return Tt},captionV2Endpoint:function(){return Rt},chargingAvailabilityEndpoint:function(){return Ut},copyrightsBoundsEndpoint:function(){return St},copyrightsV2Endpoint:function(){return Pt},copyrightsWorldEndpoint:function(){return wt},copyrightsZoomEndpoint:function(){return Et},flowSegmentDataEndpoint:function(){return nr},geocodeEndpoint:function(){return xt},incidentDetailsEndpoint:function(){return er},incidentDetailsV5Endpoint:function(){return tr},incidentRegionsEndpoint:function(){return or},incidentViewportEndpoint:function(){return rr},longDistanceEVRoutingEndpoint:function(){return Jt},matrixRoutingEndpoint:function(){return Zt},matrixSyncRoutingEndpoint:function(){return Yt},nearbySearchEndpoint:function(){return zt},origin:function(){return ur},placeByIdEndpoint:function(){return Nt},poiCategoriesEndpoint:function(){return Wt},rasterTrafficFlowTilesLayerEndpoint:function(){return ar},reverseGeocodeEndpoint:function(){return jt},routingEndpoint:function(){return $t},searchEndpoint:function(){return Lt},staticMapImageEndpoint:function(){return cr},structuredGeocodeEndpoint:function(){return It},tileLayerEndpoint:function(){return lr},trafficLayerEndpoint:function(){return ir},vectorTrafficFlowTilesLayerEndpoint:function(){return sr}});var t={};n.r(t),n.d(t,{additionalData:function(){return _o},alongRouteSearch:function(){return No},autocomplete:function(){return xi},categorySearch:function(){return hi},crossStreetLookup:function(){return Ki},evChargingStationsAvailability:function(){return bi},fuzzySearch:function(){return mi},geocode:function(){return Qi},geometrySearch:function(){return _i},nearbySearch:function(){return Si},placeById:function(){return Ti},poiCategories:function(){return Ri},poiSearch:function(){return Ci},reverseGeocode:function(){return Vi},structuredGeocode:function(){return Xi}});var r={};n.r(r),n.d(r,{calculateReachableRange:function(){return ia},calculateRoute:function(){return ha},longDistanceEVRouting:function(){return ga},matrixRouting:function(){return Sa}});var i={};n.r(i),n.d(i,{incidentDetails:function(){return Wa},incidentDetailsV5:function(){return Va},incidentViewport:function(){return Ta},trafficFlowSegmentData:function(){return xa}});var a={};n.r(a),n.d(a,{copyrights:function(){return Za},copyrightsCaption:function(){return Xa},copyrightsCaptionV2:function(){return rs},copyrightsV2:function(){return es},staticImage:function(){return Ha}});var s=n(1),l=n.n(s);const c=l()["analytics.header.sdkName"]+"/"+l()["sdk.version"],u=l()["analytics.header.name"],d=()=>(global.__tomtomAnalyticsInfo_=global.__tomtomAnalyticsInfo_?global.__tomtomAnalyticsInfo_:{},global.__tomtomAnalyticsInfo_),p=()=>{const e=void 0!==d().productInfo?" "+d().productInfo:"";return c+e},f=()=>{const e={};return e[u]=p(),e},h="EXTENDED_SEARCH",y="MAP",b="ROUTING",g="SEARCH",m="TRAFFIC_FLOW",v="TRAFFIC_INCIDENTS";function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){return"number"==typeof e&&isFinite(e)}function T(e){return null!=e&&!function(e){return e!=e}(e)}function P(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(Array.isArray(e[r])?t[r]=e[r].slice(0):"object"==typeof e[r]?(t[r]={},P(e[r],t[r])):t[r]=e[r])}function R(e,t,r){var n;e[t]=void 0===(n=e[t])?{}:n;for(const n in r[t])Object.prototype.hasOwnProperty.call(r[t],n)&&(e[t][n]=r[t][n])}function O(e,t){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function C(e,t,r){if(-1===t.indexOf(e))throw new TypeError(r);return e}function A(e){if("string"!=typeof e)return{};let t=-1;const r=new RegExp("[a-zA-Z]");return function n(o){let i={},a="";for(;++t<e.length;){const s=e.charAt(t);switch(s){case"}":return""!==a&&(i[a]=!0),i;case"{":""===a?o?i=n():n():(i[a]=n(),a="");break;case",":""!==a&&(i[a]=!0),a="";break;default:r.test(s)&&(a+=s)}}return""!==a&&(i[a]=!0),i}(!0)}function x(e){const t={};return P(e,t),t}const j=/(-?\d+(?:\.\d+)?)(?:\s+|\s*,\s*)(-?\d+(?:\.\d+)?)/,k=/circle\((-?\d+(?:\.\d+)?)\s*,\s*(-?\d+(?:\.\d+)?)\s*,\s*(\d+)\)/;function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=w({},t);for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&R(r,t,e);return r}var L=n(2),q=n.n(L),D=n(10),B=n.n(D),z=n(13),M=n.n(z),F=n(14),W=n.n(F);const U={"af-ZA":{synonyms:{af:null,afr:null,"af-za":null,af_za:null,afrikaans:null},label:"Afrikaans"},ar:{synonyms:{ar:null,ara:null,"ar-ar":null,ar_ar:null,arabic:null},label:"Arabic"},"bg-BG":{synonyms:{bg:null,bul:null,"bg-bg":null,bg_bg:null,bulgarian:null},label:"Bulgarian"},"ca-ES":{synonyms:{ca:null,cat:null,"ca-fr":null,ca_fr:null,"ca-es":null,ca_es:null,catalan:null},label:"Catalan"},"zh-CN":{synonyms:{"zh-cn":null,zh_cn:null},label:"Chinese (PRC)"},"zh-TW":{synonyms:{zh:null,chi:null,"zh-tw":null,zh_tw:null,chinese:null},label:"Chinese (Taiwan)"},"cs-CZ":{synonyms:{cs:null,cz:null,cze:null,"cs-cz":null,cs_cz:null,czech:null},label:"Czech"},"da-DK":{synonyms:{da:null,dan:null,"da-dk":null,da_dk:null,danish:null},label:"Danish"},"nl-BE":{synonyms:{"nl-be":null,nl_be:null,"dutch belgium":null},label:"Dutch (Belgium)"},"nl-NL":{synonyms:{nl:null,dut:null,"nl-nl":null,nl_nl:null,dutch:null},label:"Dutch"},"en-AU":{synonyms:{aue:null,aus:null,"en-au":null,en_au:null,"english au":null},label:"English (Australia)"},"en-GB":{synonyms:{en:null,eng:null,"en-gb":null,en_gb:null,english:null,default:null},label:"English (Great Britain)"},"en-NZ":{synonyms:{"en-nz":null,en_nz:null,"english new zealand":null},label:"English (New Zealand)"},"en-US":{synonyms:{us:null,ame:null,"en-us":null,en_us:null,"english us":null},label:"English (US)"},"et-EE":{synonyms:{"et-ee":null,et_ee:null,estonian:null},label:"Estonian"},"eu-ES":{synonyms:{"eu-es":null,eu_es:null,basque:null},label:"Basque (Spain)"},"fi-FI":{synonyms:{fi:null,fin:null,"fi-fi":null,fi_fi:null,finnish:null},label:"Finnish"},"fr-CA":{synonyms:{"fr-ca":null,fr_ca:null,"french canadian":null},label:"French (Canadian)"},"fr-FR":{synonyms:{fr:null,fre:null,"fr-fr":null,fr_fr:null,french:null},label:"French"},"de-DE":{synonyms:{de:null,ger:null,"de-de":null,de_de:null,german:null},label:"German"},"el-GR":{synonyms:{el:null,gre:null,"el-gr":null,el_gr:null,greek:null},label:"Greek"},"gl-ES":{synonyms:{"gl-es":null,gl_es:null,galician:null},label:"Galician (Spain)"},"he-IL":{synonyms:{"he-il":null,he_il:null,hebrew:null},label:"Hebrew (Israel)"},"hr-HR":{synonyms:{hr:null,"hr-hr":null,hr_hr:null,croatian:null},label:"Croatian"},"hu-HU":{synonyms:{hu:null,hun:null,"hu-hu":null,hu_hu:null,hungarian:null},label:"Hungarian"},"id-ID":{synonyms:{id:null,ind:null,"id-id":null,id_id:null,indonesian:null},label:"Indonesian"},"it-IT":{synonyms:{it:null,ita:null,"it-it":null,it_it:null,italian:null},label:"Italian"},"kk-KZ":{synonyms:{"kk-kz":null,kk_kz:null,kazakh:null},label:"Kazakh (Kazakhstan)"},"lv-LV":{synonyms:{lt:null,"lv-lv":null,lv_lv:null,latvian:null},label:"Latvian"},"lt-LT":{synonyms:{lt:null,lit:null,"lt-lt":null,lt_lt:null,lithuanian:null},label:"Lithuanian"},"ms-MY":{synonyms:{ms:null,mal:null,"ms-my":null,ms_my:null,malay:null},label:"Malay"},"no-NO":{synonyms:{no:null,nb:null,nor:null,"nb-no":null,nb_no:null,"no-no":null,no_no:null,norwegian:null},label:"Norwegian"},"pl-PL":{synonyms:{pl:null,pol:null,"pl-pl":null,pl_pl:null,polish:null},label:"Polish"},"ro-RO":{synonyms:{"ro-ro":null,ro_ro:null,romanian:null},label:"Romanian"},"ru-RU":{synonyms:{ru:null,rus:null,"ru-ru":null,ru_ru:null,russian:null},label:"Russian"},"sr-RS":{synonyms:{"sr-rs":null,sr_rs:null,serbian:null},label:"Serbian"},"sk-SK":{synonyms:{sk:null,slo:null,"sk-sk":null,sk_sk:null,slovak:null},label:"Slovak"},"sl-SI":{synonyms:{sl:null,slv:null,"sl-si":null,sl_si:null,slovenian:null},label:"Slovenian"},"es-ES":{synonyms:{es:null,spa:null,"es-es":null,es_es:null,spanish:null},label:"Spanish"},"es-419":{synonyms:{"es-419":null,es_419:null,"latin america spanish":null},label:"Latin American Spanish"},"sv-SE":{synonyms:{sv:null,swe:null,"sv-se":null,sv_se:null,swedish:null},label:"Swedish"},"th-TH":{synonyms:{th:null,tha:null,"th-th":null,th_th:null,thai:null},label:"Thai"},"tr-TR":{synonyms:{tr:null,tur:null,"tr-tr":null,tr_tr:null,turkish:null},label:"Turkish"},"uk-UA":{synonyms:{"uk-ua":null,uk_ua:null,ukrainian:null},label:"Ukrainian"},"vi-VN":{synonyms:{"vi-vn":null,vi_vn:null,vietnamese:null},label:"Vietnamese (Viet Nam)"},NGT:{synonyms:{ngt:null},label:"Neutral Ground Truth"},"NGT-Latn":{synonyms:{"ngt-latn":null},label:"Neutral Ground Truth - Latin exonyms"},"en-CA":{synonyms:{"en-ca":null,en_ca:null,"english canadian":null},label:"English (Canada)"},"ko-KR":{synonyms:{ko:null,kor:null,"ko-kr":null,ko_kr:null,korean:null},label:"Korean"},"nb-NO":{synonyms:{nb:null,nor:null,"nb-no":null,nb_no:null,norwegian:null},label:"Norwegian"},"pt-BR":{synonyms:{br:null,pob:null,"pt-br":null,pt_br:null,"portuguese br":null},label:"Portuguese (BR)"},"pt-PT":{synonyms:{pt:null,por:null,"pt-pt":null,pt_pt:null,portuguese:null},label:"Portuguese"},"ru-Latn-RU":{synonyms:{"ru-latn-ru":null,ru_latn_ru:null},label:"Russian (Latin)"},"ru-Cyrl-RU":{synonyms:{"ru-cyrl-ru":null,ru_cyrl_ru:null},label:"Russian (Cyrlic)"},"es-MX":{synonyms:{mx:null,spm:null,"es-mx":null,es_mx:null,"spanish mx":null},label:"Spanish (Mexico)"},defaultValue:{value:"en-GB",label:"English (Great Britain)"}},V={ar:U.ar,ca:U["ca-ES"],cs:U["cs-CZ"],da:U["da-DK"],de:U["de-DE"],el:U["el-GR"],en:{synonyms:{en:null,eng:null,"en-gb":null,en_gb:null,english:null,us:null,ame:null,"en-us":null,en_us:null,"english us":null,default:null},label:"English"},es:{synonyms:{es:null,spa:null,"es-es":null,es_es:null,spanish:null,mx:null,spm:null,"es-mx":null,es_mx:null,"spanish mx":null},label:"Spanish"},et:U["et-EE"],fi:U["fi-FI"],fr:U["fr-FR"],he:U["he-IL"],hu:U["hu-HU"],id:U["id-ID"],it:U["it-IT"],lt:U["lt-LT"],lv:U["lv-LV"],nb:U["nb-NO"],nl:U["nl-NL"],no:U["no-NO"],pl:U["pl-PL"],pt:{synonyms:{br:null,por:null,"pt-br":null,pt_br:null,portuguese:null,pt:null,pob:null,"pt-pt":null,pt_pt:null,"portuguese br":null},label:"Portuguese"},ro:U["ro-RO"],ru:U["ru-RU"],sk:U["sk-SK"],sv:U["sv-SE"],th:U["th-TH"],tr:U["tr-TR"],zh:U["zh-TW"],defaultValue:{value:"en",label:"English (Great Britain)"}},N={ar:U.ar,"af-ZA":U["af-ZA"],"bg-BG":U["bg-BG"],"zh-TW":U["zh-TW"],"cs-CZ":U["cs-CZ"],"da-DK":U["da-DK"],"nl-NL":U["nl-NL"],"en-GB":U["en-GB"],"en-US":U["en-US"],"fi-FI":U["fi-FI"],"fr-FR":U["fr-FR"],"de-DE":U["de-DE"],"el-GR":U["el-GR"],"hu-HU":U["hu-HU"],"id-ID":U["id-ID"],"it-IT":U["it-IT"],"ko-KR":U["ko-KR"],"lt-LT":U["lt-LT"],"ms-MY":U["ms-MY"],"nb-NO":U["nb-NO"],"pl-PL":U["pl-PL"],"pt-BR":U["pt-BR"],"pt-PT":U["pt-PT"],"ru-RU":U["ru-RU"],"sk-SK":U["sk-SK"],"sl-SI":U["sl-SI"],"es-ES":U["es-ES"],"es-MX":U["es-MX"],"sv-SE":U["sv-SE"],"th-TH":U["th-TH"],"tr-TR":U["tr-TR"],defaultValue:U.defaultValue},$={NGT:U.NGT,"NGT-Latn":U["NGT-Latn"],"af-ZA":U["af-ZA"],ar:U.ar,"eu-ES":U["eu-ES"],"bg-BG":U["bg-BG"],"ca-ES":U["ca-ES"],"zh-CN":U["zh-CN"],"zh-TW":U["zh-TW"],"cs-CZ":U["cs-CZ"],"da-DK":U["da-DK"],"nl-BE":U["nl-BE"],"nl-NL":U["nl-NL"],"en-AU":U["en-AU"],"en-NZ":U["en-NZ"],"en-GB":U["en-GB"],"en-US":U["en-US"],"et-EE":U["et-EE"],"fi-FI":U["fi-FI"],"fr-CA":U["fr-CA"],"fr-FR":U["fr-FR"],"gl-ES":U["gl-ES"],"de-DE":U["de-DE"],"el-GR":U["el-GR"],"hr-HR":U["hr-HR"],"he-IL":U["he-IL"],"hu-HU":U["hu-HU"],"id-ID":U["id-ID"],"it-IT":U["it-IT"],"kk-KZ":U["kk-KZ"],"lv-LV":U["lv-LV"],"lt-LT":U["lt-LT"],"ms-MY":U["ms-MY"],"no-NO":U["no-NO"],"nb-NO":U["nb-NO"],"pl-PL":U["pl-PL"],"pt-BR":U["pt-BR"],"pt-PT":U["pt-PT"],"ro-RO":U["ro-RO"],"ru-RU":U["ru-RU"],"ru-Latn-RU":U["ru-Latn-RU"],"ru-Cyrl-RU":U["ru-Cyrl-RU"],"sr-RS":U["sr-RS"],"sk-SK":U["sk-SK"],"sl-SI":U["sl-SI"],"es-ES":U["es-ES"],"es-419":U["es-419"],"sv-SE":U["sv-SE"],"th-TH":U["th-TH"],"tr-TR":U["tr-TR"],"uk-UA":U["uk-UA"],"vi-VN":U["vi-VN"],defaultValue:U.defaultValue},G={ar:U.ar,"ca-ES":U["ca-ES"],"cs-CZ":U["cs-CZ"],"da-DK":U["da-DK"],"de-DE":U["de-DE"],"el-GR":U["el-GR"],"en-GB":U["en-GB"],"en-US":U["en-US"],"es-ES":U["es-ES"],"et-EE":U["et-EE"],"fi-FI":U["fi-FI"],"fr-FR":U["fr-FR"],"he-IL":U["he-IL"],"hu-HU":U["hu-HU"],"id-ID":U["id-ID"],"it-IT":U["it-IT"],"lt-LT":U["lt-LT"],"lv-LV":U["lv-LV"],"nb-NO":U["nb-NO"],"nl-NL":U["nl-NL"],"pl-PL":U["pl-PL"],"pt-PT":U["pt-PT"],"ro-RO":U["ro-RO"],"ru-RU":U["ru-RU"],"sk-SK":U["sk-SK"],"sv-SE":U["sv-SE"],"th-TH":U["th-TH"],"tr-TR":U["tr-TR"],"zh-TW":U["zh-TW"],defaultValue:U.defaultValue};function H(e){if(!B()(e)&&!q()(e))throw new TypeError("Unsupported key type",e);return e}function Q(e){const t=parseFloat(e);if(!isFinite(t))throw new TypeError("a number is expected, but "+e+" ["+typeof e+"] given");return t}function K(e,t){return r=>C(r,e,"Supported "+t+" is expected (one of: "+e+"), but "+r+" ["+typeof r+"] was given.")}const Z=["StandardHouseholdCountrySpecific","IEC62196Type2CableAttached","IEC60309AC1PhaseBlue","IEC60309AC3PhaseRed","IEC62196Type2Outlet","IEC62196Type1CCS","IEC62196Type2CCS","IEC60309DCWhite","IEC62196Type1","IEC62196Type3","GBT20234Part2","GBT20234Part3","Chademo","Tesla"],Y=["Small_Paddle_Inductive","Large_Paddle_Inductive","IEC_60309_1_Phase","IEC_60309_3_Phase","IEC_62196_Type_1_Outlet","IEC_62196_Type_2_Outlet","IEC_62196_Type_3_Outlet","IEC_62196_Type_1_Connector_Cable_Attached","IEC_62196_Type_2_Connector_Cable_Attached","IEC_62196_Type_3_Connector_Cable_Attached","Combo_to_IEC_62196_Type_1_Base","Combo_to_IEC_62196_Type_2_Base","Type_E_French_Standard_CEE_7_5","Type_F_Schuko_CEE_7_4","Type_G_British_Standard_BS_1363","Type_J_Swiss_Standard_SEV_1011","China_GB_Part_2","China_GB_Part_3","IEC_309_DC_Plug","AVCON_Connector","Tesla_Connector","NEMA_5_20","CHAdeMO","SAE_J1772","TEPCO","Better_Place_Socket","Marechal_Socket","Standard_Household_Country_Specific"],X=["Battery_Exchange","Charge_100_to_120V_1_Phase_at_8A","Charge_100_to_120V_1_Phase_at_10A","Charge_100_to_120V_1_Phase_at_12A","Charge_100_to_120V_1_Phase_at_13A","Charge_100_to_120V_1_Phase_at_16A","Charge_100_to_120V_1_Phase_at_32A","Charge_200_to_240V_1_Phase_at_8A","Charge_200_to_240V_1_Phase_at_10A","Charge_200_to_240V_1_Phase_at_12A","Charge_200_to_240V_1_Phase_at_16A","Charge_200_to_240V_1_Phase_at_20A","Charge_200_to_240V_1_Phase_at_32A","Charge_200_to_240V_1_Phase_above_32A","Charge_200_to_240V_3_Phase_at_16A","Charge_200_to_240V_3_Phase_at_32A","Charge_380_to_480V_3_Phase_at_16A","Charge_380_to_480V_3_Phase_at_32A","Charge_380_to_480V_3_Phase_at_63A","Charge_50_to_500V_Direct_Current_at_62A_25kW","Charge_50_to_500V_Direct_Current_at_125A_50kW","Charge_200_to_450V_Direct_Current_at_200A_90kW","Charge_200_to_480V_Direct_Current_at_255A_120kW","Charge_Direct_Current_at_20kW","Charge_Direct_Current_at_50kW","Charge_Direct_Current_above_50kW"],J=["NGT","NGT-Latn","ar","bg-BG","zh-TW","cs-CZ","da-DK","nl-NL","en-AU","en-CA","en-GB","en-NZ","en-US","fi-FI","fr-FR","de-DE","el-GR","hu-HU","id-ID","it-IT","ko-KR","lt-LT","ms-MY","nb-NO","pl-PL","pt-BR","pt-PT","ru-RU","ru-Latn-RU","ru-Cyrl-RU","sk-SK","sl-SI","es-ES","es-MX","sv-SE","th-TH","tr-TR"],ee=["Petrol","LPG","Diesel","Biodiesel","DieselForCommercialVehicles","E85","LNG","CNG","Hydrogen","AdBlue"],te="\n    {\n        incidents {\n            type,\n            geometry {\n                type,\n                coordinates\n            },\n            properties {\n                id,\n                iconCategory,\n                magnitudeOfDelay,\n                events {\n                    description,\n                    code,\n                    iconCategory\n                },\n                startTime,\n                endTime,\n                from,\n                to,\n                length,\n                delay,\n                roadNumbers,\n                aci {\n                    probabilityOfOccurrence,\n                    numberOfReports,\n                    lastReportTime\n                }\n            }\n        }\n    }";function re(e){return e.toString().match(/(\d\d\d\d)(-)?(\d\d)(-)?(\d\d)(T)?(\d\d)(:)?(\d\d)(:)?(\d\d)(\.\d+)?(Z|([+-])(\d\d)(:)?(\d\d))/)}function ne(e,t,r){return isFinite(e)&&e>=t&&e<=r}function oe(e){return e.constructor.toString().indexOf("Array")<0}function ie(e,t){if(e)throw new TypeError(t)}function ae(e){const t=parseFloat(e);if(!ne(t,-180,180))throw new TypeError("an longitude <-180,180> is expected, but "+e+" ["+typeof e+"] given");return t}function se(e){var t;return ie((t=e,!(Object.prototype.hasOwnProperty.call(t,"chargingConnections")&&Object.prototype.hasOwnProperty.call(t,"chargingCurve"))),"a chargingMode is expected, but "+e+" ["+typeof e+"] given"),le(e.chargingCurve),fe(e.chargingConnections),e}function le(e){if(e.length>10)throw new Error("Given chargingCurve array contains more than 10 elements.");return e.forEach((e=>{ce(e)})),e}function ce(e){var t;return ie((t=e,!(Object.prototype.hasOwnProperty.call(t,"chargeInkWh")&&Object.prototype.hasOwnProperty.call(t,"timeToChargeInSeconds"))),"a chargingCurveSupportPoint is expected, but "+e+" ["+typeof e+"] given"),ie(!ne(e.chargeInkWh,0,Number.MAX_VALUE),"a chargeInkWh is expected, but "+e.chargeInkWh+" ["+typeof e.chargeInkWh+"] given"),ie(!ne(e.timeToChargeInSeconds,0,Number.MAX_VALUE),"a timeToChargeInSeconds is expected, but "+e.timeToChargeInSeconds+" ["+typeof e.timeToChargeInSeconds+"] given"),e}function ue(e){var t;return ie((t=e,!(Object.prototype.hasOwnProperty.call(t,"facilityType")&&Object.prototype.hasOwnProperty.call(t,"plugType"))),"a chargingConnection is expected, but "+e+" ["+typeof e+"] given"),de(e.plugType),pe(e.facilityType),e}function de(e){return C(e,Y,"Plug type is expected to be one of supported values, but "+e+" ["+typeof e+"] given")}function pe(e){return C(e,X,"Facility type is expected to be one of supported values, but "+e+" ["+typeof e+"] given")}function fe(e){if(e.length>20)throw new Error("Given chargingConnections array contains more than 20 elements.");return e.forEach((e=>{ue(e)})),e}function he(e){const t=parseFloat(e);if(!ne(t,-90,90))throw new TypeError("an latitude <-90,90> is expected, but "+e+" ["+typeof e+"] given");return t}function ye(e){let t,r;if(Array.isArray(e)){if(2!==e.length||2!==e.filter(isFinite).length)throw new TypeError("Invalid point array in route points");t=e[1],r=e[0]}else{if(!isFinite(e.lat)||!isFinite(e.lon)&&!isFinite(e.lng))throw new TypeError("Invalid point object in route points");t=e.lat,r=void 0!==e.lon?e.lon:e.lng}if(!("number"==typeof t||t instanceof Number)||!("number"==typeof r||r instanceof Number))throw new TypeError("Lat and lon components of point should be finite numbers");ae(r),he(t)}function be(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(Object.prototype.hasOwnProperty.call(t,r)&&Array.isArray(e[r].validators))for(const n of e[r].validators)q()(n)&&(t[r]=n(t[r]));if(!0===e[r].required&&!Object.prototype.hasOwnProperty.call(t,r))throw new Error("Missing required "+r)}}function ge(e,t,r,n){if(M()(e)||M()(t))throw new TypeError("Number in interval validator requires min and max value parameters");return function(o){const i=parseFloat(o);if(!ne(i,e,t)||n&&!W()(i))throw new TypeError(r+", but "+o+" ["+typeof o+"] given");return i}}function me(e,t,r){return ge(e,t,r,!0)}function ve(e,t,r){if(B()(e)&&(e=e.split(",")),Array.isArray(e)&&e.length>0){for(let n=0;n<e.length;n+=1)C(e[n],r,t);return e.join(",")}throw new TypeError(t)}function _e(e,t){if(!re(e))throw new TypeError('Invalid "'.concat(t,'" parameter value.\n        Valid format: YYYY-MM-DDThh:mm:ss.SSSTZD'));return e}function we(e){if(B()(e)&&/^[a-zA-Z0-9-]{1,100}$/.test(e))return e;throw new TypeError("a string matching regular expression ^[a-zA-Z0-9-]{1,100}$ is expected, but "+e+" ["+typeof e+"] given")}function Se(e){return"false"!==e&&Boolean(e)}function Ee(e){const t=parseFloat(e);if(!W()(t)||t<0)throw new TypeError("a natural integer (greater than or equal 0) is expected, but "+e+" ["+typeof e+"] given");return t}function Te(e){const t=parseFloat(e);if(!W()(t)||t<=0)throw new TypeError("a positive integer (greater than 0) is expected, but "+e+" ["+typeof e+"] given");return t}function Pe(e){const t=parseFloat(e);if(!W()(t))throw new TypeError("an integer is expected, but "+e+" ["+typeof e+"] given");return t}function Re(e){return ie(!function(e){return Object.prototype.hasOwnProperty.call(e,"minLon")&&Object.prototype.hasOwnProperty.call(e,"maxLon")&&Object.prototype.hasOwnProperty.call(e,"minLat")&&Object.prototype.hasOwnProperty.call(e,"maxLat")}(e),"a bounding box is expected, but "+e+" ["+typeof e+"] given"),ie(!ne(e.minLat,-90,90),"a bounding box minimal latitude is expected "+e.minLat+" ["+typeof e.minLat+"] given"),ie(!ne(e.maxLat,-90,90),"a bounding box maximal latitude is expected "+e.maxLat+" ["+typeof e.maxLat+"] given"),ie(!ne(e.minLon,-270,180),"a bounding box minimal longitude is expected "+e.minLon+" ["+typeof e.minLon+"] given"),ie(!ne(e.maxLon,-180,270),"a bounding box maximal longitude is expected "+e.maxLon+" ["+typeof e.maxLon+"] given"),ie(function(e){return parseFloat(e.maxLat)<=parseFloat(e.minLat)||parseFloat(e.maxLon)<=parseFloat(e.minLon)}(e),"a bounding box expected but max <= min"),e}function Oe(e,t){return ge(e,t,"a number in interval <"+e+", "+t+"> is expected")}function Ce(e,t){return me(e,t,"an integer in interval <"+e+", "+t+"> is expected")}function Ae(e){if(!B()(e))throw new TypeError("a string is expected, but "+e+" ["+typeof e+"] given");return e}function xe(e){return me(0,22,"zoom level <0, 22> is expected")(e)}function je(e){if(!B()(e)||3!==e.length&&2!==e.length)throw new TypeError("a 2 or 3-characters long country name is expected, but "+e+" ["+typeof e+"] given");return e}function ke(e){const t=Object.keys($);if(!B()(e)||t.indexOf(e)<0)throw new TypeError("One of pre-defined language codes was expected: "+t+", but "+e+" ["+typeof e+"] given");return e}function Ie(e){ie(!B()(e)&&oe(e),"An array of string country names or string (divided with commas) of country names (two or three-characters long) is expected, but "+e+" ["+typeof e+"] given");const t=B()(e)?e:e.join();return ie(!t.match(/^([a-zA-z]{2,3},)*[a-zA-z]{2,3}$/),"An array of string country names or string (divided with commas) of country names (two or three-characters long) is expected, but "+e+" ["+typeof e+"] given"),t}function Le(e){return ve(e,"List of pre-defined EV connector names was expected,but "+e+" ["+typeof e+"] given",Z)}function qe(e){return ve(e,"List of pre-defined Fuel types names was expected,but "+e+" ["+typeof e+"] given",ee)}function De(e){const t=["Local","International","Alternative"],r="List of pre-defined mapcode types names was expected,but "+e+" ["+typeof e+"] given";if(B()(e)&&(e=e.split(",")),Array.isArray(e)&&e.length>0){for(let n=0;n<e.length;n+=1)C(e[n],t,r);return e.join(",")}throw new TypeError(r)}function Be(e,t){ie(!B()(t)&&oe(t),"An array of string country names or string (divided with commas) of country names (three-characters long) is expected, but "+t+" ["+typeof t+"] given");const r=B()(t)?t:t.join();return e&&""===r||ie(!r.match(/^([a-zA-z]{3},)*[a-zA-z]{3}$/),"An array of string country names or string (divided with commas) of country names (three-characters long) is expected, but "+t+" ["+typeof t+"] given"),t}function ze(e){return function(e){if(!B()(e)||!j.test(e))throw new TypeError("A point is expected, but "+e+" ["+typeof e+"] given")}(e),e}function Me(e){return me(1,4,"Fuzziness level value (a positive integer lower than 5) is expected")(e)}function Fe(e){return me(1,100,"Limit value (a positive integer lower than 100) is expected")(e)}function We(e){return me(0,1900,"Offset an integer value <0, 1900> is expected")(e)}function Ue(e){const t=["Country","CountrySubdivision","CountrySecondarySubdivision","CountryTertiarySubdivision","Municipality","MunicipalitySubdivision","Neighbourhood","PostalCodeArea"];for(const r of e.split(","))if(-1===t.indexOf(r))throw new TypeError("Entity type (".concat(t,") is expected, but ").concat(e," [").concat(typeof e,"] given"));return e}function Ve(e,t){return r=>{const n="Supported "+t+" type is expected (array with one of: "+e+"), but "+r+" ["+typeof r+"] given";if(oe(r))throw new TypeError("an array is expected, but "+r+"  ["+typeof r+"] given");for(let t=0;t<r.length;t+=1)C(r[t],e,n);return r}}function Ne(e){if(ie(oe(e),"An array of geometry objects is expected, but "+e+" ["+typeof e+"] given"),!(e.length>0))throw new TypeError("An array of geometry objects is expected, but "+e+" ["+typeof e+"] given");for(let t=0;t<e.length;t+=1){const r=e[t];ie(!(Object.prototype.hasOwnProperty.call(r,"type")&&(Object.prototype.hasOwnProperty.call(r,"vertices")||Object.prototype.hasOwnProperty.call(r,"position")&&Object.prototype.hasOwnProperty.call(r,"radius"))),"An array of geometry objects is expected, but "+e+" ["+typeof e+"] given")}return e}function $e(e){if(isNaN(e)||!W()(e)||!(120===e||e>=5&&e<=60))throw new TypeError("Invalid `waitTimeSeconds` parameter value. Must be 120 or an integer between 5 and 60.");return e}function Ge(e){return _e(e,"clientTime")}const He=["adpEndpoint","autocompleteEndpoint","batchRoutingEndpoint","batchSearchEndpoint","batchSyncRoutingEndpoint","batchSyncSearchEndpoint","calculateReachableRangeEndpoint","captionEndpoint","captionV2Endpoint","chargingAvailabilityEndpoint","copyrightsBoundsEndpoint","copyrightsV2Endpoint","copyrightsWorldEndpoint","copyrightsZoomEndpoint","flowSegmentDataEndpoint","geocodeEndpoint","incidentDetailsEndpoint","incidentDetailsV5Endpoint","incidentRegionsEndpoint","incidentViewportEndpoint","longDistanceEVRoutingEndpoint","matrixRoutingEndpoint","matrixSyncRoutingEndpoint","nearbySearchEndpoint","placeByIdEndpoint","poiCategoriesEndpoint","reverseGeocodeEndpoint","routingEndpoint","searchEndpoint","staticMapImageEndpoint","structuredGeocodeEndpoint"],Qe=["batchAdpQueryEndpoint","batchChargingAvailabilityQueryEndpoint","batchNearbySearchQueryEndpoint","batchReachableRangeQueryEndpoint","batchReverseGeocodeQueryEndpoint","batchRoutingQueryEndpoint","batchSearchQueryEndpoint","batchStructuredGeocodeQueryEndpoint"];function Ke(e){try{!function(e){if("object"!=typeof e||e.constructor!==Object)throw new TypeError("an object is expected, but "+e+"  ["+typeof e+"] given")}(e);for(const t in e)if(He.includes(t))Ze(e[t]);else{if(!Qe.includes(t))throw new TypeError("Endpoint name is expected to be one of supported values, but "+e+"given");Ye(e[t])}}catch(e){throw new TypeError("Invalid custom endpoints object. ".concat(e.message))}return e}function Ze(e){if(!B()(e))throw new TypeError("Invalid custom URL. A string URL is expected, ".concat(e," [").concat(typeof e,"] given"));if(new RegExp(/(https:\/\/|http:\/\/).*/).test(e))throw new TypeError("Invalid custom URL. URL without protocol (http/https) is expected, ".concat(e," given"));if(!new RegExp(/^[0-9a-zA-Z-.]+(\.tomtom\.com)(\/.*)?$/).test(e))throw new TypeError("Invalid custom URL. URL in TomTom domain (*.tomtom.com) is expected, ".concat(e," given"));return e}function Ye(e){if(!B()(e))throw new TypeError("Invalid custom query. A string URL is expected, ".concat(e," [").concat(typeof e,"] given"));if(!new RegExp(/^\//).test(e))throw new TypeError("Invalid custom query. A string starting with / is expected, ".concat(e," given"));return e}var Xe=n(19),Je=n.n(Xe);class et{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=e}convert(e){return this._isSinglePoint(e)?this._convertPoint(e):this._convertToArrayOfPoints(e)}_isSinglePoint(e){if(Array.isArray(e))return 2===e.length&&"object"!=typeof e[0];if(B()(e)){if(e.split(":").length>=2)return!1}return!0}_convertToArrayOfPoints(e){return B()(e)?e.split(":").map(this._convertPoint.bind(this)):e.map(this._convertPoint.bind(this))}_convertPoint(e){return Je()(e,"lat")&&Je()(e,"lon")?this._covertToDefaultFormat(e.lon,e.lat):Je()(e,"latitude")&&Je()(e,"longitude")?this._covertToDefaultFormat(e.longitude,e.latitude):Je()(e,"x")&&Je()(e,"y")?this._covertToDefaultFormat(e.x,e.y):Array.isArray(e)&&2===e.length?this.options.isLatLon?this._covertToDefaultFormat(e[1],e[0]):this._covertToDefaultFormat(e[0],e[1]):B()(e)?this._convertStringPoint(e):e}_convertStringPoint(e){const t=e.split(",");if(!/^-?\d+(\.\d+)?,-?\d+(\.\d+)?$/.test(e)||2!==t.length)throw new Error("The point is not valid: "+e);return this.options.isLatLon?this._covertToDefaultFormat(t[1],t[0]):this._covertToDefaultFormat(t[0],t[1])}_covertToDefaultFormat(e,t){if(!e&&0!==e||!t&&0!==t)throw new Error("Longitude and latitude must be provided.");return q()(this.options.customPointConverter)?this.options.customPointConverter(e,t):{lng:parseFloat(e),lat:parseFloat(t)}}}var tt=n(9),rt=n.n(tt);const nt=new et,ot=e=>{e&&(e.boundingBox&&(e.boundingBox.btmRightPoint=nt.convert(e.boundingBox.btmRightPoint),e.boundingBox.topLeftPoint=nt.convert(e.boundingBox.topLeftPoint)),e.viewport&&(e.viewport.btmRightPoint=nt.convert(e.viewport.btmRightPoint),e.viewport.topLeftPoint=nt.convert(e.viewport.topLeftPoint)),e.position&&(e.position=nt.convert(e.position)),e.summary&&e.summary.geoBias&&(e.summary.geoBias=nt.convert(e.summary.geoBias)))},it=(e,t,r)=>{M()(r)||(e[t]=r)},at=(e,t)=>({type:"Feature",geometry:{type:t,coordinates:[]},properties:e}),st=e=>{const t={};t.id=e.id,rt()(e)&&Object.keys(e).forEach((r=>{it(t,r,e[r])}));const r=at(t,"Point");return r.geometry.coordinates=[e.position.lng,e.position.lat],r},lt=e=>{const t={type:"FeatureCollection",features:[]};for(let r=0;r<e.results.length;r++){const n=st(e.results[r]);t.features.push(n)}return t};function ct(e){e&&e.entryPoints&&Array.isArray(e.entryPoints)&&e.entryPoints.forEach((e=>{ot(e)}))}function ut(e){return e?(Array.isArray(e.results)?e.results.forEach((e=>{Array.isArray(e)?e.forEach((e=>{ot(e),ct(e)})):(ot(e),ct(e))})):(ot(e),ct(e)),Object.assign(e,{toGeoJson:()=>lt(e)})):e}function dt(e){return Array.isArray(e.batchItems)?(e.batchItems=e.batchItems.map((e=>e.response.error?{error:e.response.error}:ut(e.response))),e):null}var pt="POST",ft="PATH",ht="QUERY",yt="OTHER",bt="HEADER";function gt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vt(e,t){let{data:r,trackingId:n}=e;const o="string"==typeof r?{data:r}:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(r),!0).forEach((function(t){mt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},r),i=t?t(r):o;return i.getTrackingId=()=>n||null,i}var _t=n(65);const wt=l()["endpoints.copyrightsWorld"],St=l()["endpoints.copyrightsBounds"],Et=l()["endpoints.copyrightsZoom"],Tt=l()["endpoints.caption"],Pt=l()["endpoints.copyrightsV2"],Rt=l()["endpoints.captionV2"],Ot=l()["endpoints.batchSearch"],Ct=l()["endpoints.batchSyncSearch"],At=l()["endpoints.batchSearchQuery"],xt=l()["endpoints.geocode"],jt=l()["endpoints.reverseGeocode"],kt=l()["endpoints.batchReverseGeocodeQuery"],It=l()["endpoints.structuredGeocode"],Lt=l()["endpoints.search"],qt=l()["endpoints.batchStructuredGeocodeQuery"],Dt=l()["endpoints.adp"],Bt=l()["endpoints.batchAdpQuery"],zt=l()["endpoints.nearbySearch"],Mt=l()["endpoints.batchNearbySearchQuery"],Ft=l()["endpoints.autocomplete"],Wt=l()["endpoints.poiCategories"],Ut=l()["endpoints.chargingAvailability"],Vt=l()["endpoints.batchChargingAvailabilityQuery"],Nt=l()["endpoints.placeById"],$t=l()["endpoints.routing"],Gt=l()["endpoints.calculateReachableRange"],Ht=l()["endpoints.batchRoutingQuery"],Qt=l()["endpoints.batchRouting"],Kt=l()["endpoints.batchSyncRouting"],Zt=l()["endpoints.matrixRouting"],Yt=l()["endpoints.matrixSyncRouting"],Xt=l()["endpoints.batchReachableRangeQuery"],Jt=l()["endpoints.longDistanceEVRouting"],er=l()["endpoints.incidentDetails"],tr=l()["endpoints.incidentDetailsV5"],rr=l()["endpoints.incidentViewport"],nr=l()["endpoints.flowSegmentData"],or=l()["endpoints.incidentRegions"],ir=l()["endpoints.trafficLayer"],ar=l()["endpoints.rasterTrafficFlowTilesLayer"],sr=l()["endpoints.vectorTrafficFlowTilesLayer"],lr=l()["endpoints.tileLayer"],cr=l()["endpoints.staticImage"],ur=l().origin;class dr{constructor(e){void 0!==(null==e?void 0:e.customEndpoints)&&(this._customEndpoints=Ke(e.customEndpoints)),void 0!==(null==e?void 0:e.customDomain)&&(this._customDomain=Ze(e.customDomain),this._customDomain=this._customDomain.replace(new RegExp(/\/$/),""))}resolve(t){var r;if(void 0!==(null===(r=this._customEndpoints)||void 0===r?void 0:r[t]))return this._customEndpoints[t];const n=e[t];return void 0!==this._customDomain?this._changeDomain(n,this._customDomain):n}_changeDomain(e,t){return e.replace(ur,t)}}class pr extends Error{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];super(...r),Error.captureStackTrace&&Error.captureStackTrace(this,pr);let o="\n";e.forEach((e=>{o+=e.message+"\n"})),this.errors=e,this.message="Validation errors occured: "+o}}const fr=/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/;class hr{constructor(e){let{validators:t,converters:r,required:n,defaultValue:o,deprecationDate:i}=e;Object.assign(this,{validators:t,converters:r,required:n,defaultValue:o,deprecationDate:i}),this._validateFields()}_isArrayOfFunctions(e){if(!Array.isArray(e))return!1;for(let t=0;t<e.length;t++)if(!q()(e[t]))return!1;return!0}_validateFields(){if(null===this.validators||this.validators&&!this._isArrayOfFunctions(this.validators))throw new Error("Validators are not an array of functions.");if(null===this.converters||this.converters&&!this._isArrayOfFunctions(this.converters))throw new Error("Converters are not an array of functions.");if(void 0!==this.required&&"boolean"!=typeof this.required)throw new Error("Required must be a Boolean.");if(this.deprecationDate&&(Number.isNaN(Date.parse(this.deprecationDate))||!fr.test(this.deprecationDate)))throw new Error("deprecationDate must contain a valid date")}getDefaultValue(){return q()(this.defaultValue)?this.defaultValue():this.defaultValue}getConverters(){return this.converters?this.converters:[]}getValidators(){return this.validators?this.validators:[]}getDeprecationDate(){return this.deprecationDate}isRequired(){return!0===this.required}}var yr=new class{constructor(){this.log={}}_isLogPrinted(e,t){const r=this.log[e];return!!r&&r[t]}_setLog(e,t){this.log[e]=this.log[e]||{},this.log[e][t]=!0}_displayWarning(e,t,r){const n=Date.now()>Date.parse(t),o="default"!==r?"(used in ".concat(r,") "):"";n?console.error("[DEPRECATION WARNING] The parameter '".concat(e,"' ").concat(o," deprecation period ")+"has ended. It is recommended to stop using it as it may stop working. Please refer to https://developer.tomtom.com/maps-sdk-web-js/documentation for more information"):console.warn("[DEPRECATION NOTICE] The parameter '".concat(e,"' ").concat(o,"is deprecated. ")+"By ".concat(t," we can not guarantee that it will continue to work. ")+"Please refer to https://developer.tomtom.com/maps-sdk-web-js/documentation for more information")}checkDeprecation(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";M()(e)||M()(t)||this._isLogPrinted(r,e)||(this._displayWarning(e,t,r),this._setLog(r,e))}};function br(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?br(Object(r),!0).forEach((function(t){mr(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):br(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function mr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vr(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function _r(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){vr(i,n,o,a,s,"next",e)}function s(e){vr(i,n,o,a,s,"throw",e)}a(void 0)}))}}const wr=(e,t,r,n)=>{const o=[];for(const i of t)try{i(e,r,n)}catch(e){o.push(e)}return o},Sr=e=>{const t={};for(const[r,n]of Object.entries(e))t[r]=new hr(n);return t},Er=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const n=Sr(e);let o=[];for(const[e,i]of Object.entries(n)){const n=t[e],a="__all"===e;if(M()(n)&&i.isRequired())o.push(new Error("".concat(e," is a required field.")));else if(!M()(n)||a){yr.checkDeprecation(e,i.getDeprecationDate(),r);const a=wr(n,i.getValidators(),t,e);o=[...o,...a]}}return o},Tr=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const n=Sr(e),o={};for(const[e,i]of Object.entries(n)){const n=i.getDefaultValue();let a=t[e];if(M()(a)||""===a){if(M()(n))continue;a=n}const s=i.getConverters();o[e]=s.reduce(((e,t)=>t(e,r)),a)}return o};function Pr(e,t,r,n){const o={};let i=[];if(e.batchItems&&t.batchItems&&(o.batchItems=t.batchItems.map((t=>{const o=Tr(e.batchItems,t,r);return i=i.concat(Er(e.batchItems,o,n)),o})),t.batchMode&&(o.batchMode=K(["sync","async","redirect"],"batchMode")(t.batchMode)),t.key&&(o.key=H(t.key)),o.trackingId=t.trackingId?we(t.trackingId):(0,_t.v4)(),t.waitTimeSeconds)){if(Q(t.waitTimeSeconds),!(120===t.waitTimeSeconds||t.waitTimeSeconds>=5&&t.waitTimeSeconds<=60))throw new Error("Invalid `waitTimeSeconds` parameter value. Must be 120 or an integer between 5 and 60.");o.waitTimeSeconds=t.waitTimeSeconds}return{batchProperties:o,batchErrors:i}}function Rr(e){return Or.apply(this,arguments)}function Or(){return Or=_r((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0,a=Tr(e,t,r),s=Er(e,a,n);if(e.batchItems&&t.batchItems){const{batchProperties:o,batchErrors:i}=Pr(e,t,r,n);a=gr(gr({},a),o),s=s.concat(i)}if(s.length)throw new pr(s);return o(a,i)})),Or.apply(this,arguments)}function Cr(e,t,r,n,o){const i={batchItems:e};return function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=n,c=a,u=e;return a.batchItems&&q()(o)&&(c={trackingId:a.trackingId,batchMode:a.batchMode,waitTimeSeconds:a.waitTimeSeconds,batchItems:a.batchItems,key:a.key},l=o,u=i),Rr(u,c,t,r,l,s.abortSignal)}}var Ar=n(81),xr=n.n(Ar);function jr(e,t){return e.replace(/\{ *([\w_]+) *\}/g,((e,r)=>{let n=t[r];return xr()(n)?"{"+r+"}":(q()(n)&&(n=n(r)),"query"===r?encodeURIComponent(n):n)}))}var kr=require("node:http"),Ir=require("node:https"),Lr=require("node:zlib"),qr=require("node:stream"),Dr=require("node:buffer");var Br=function(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');const t=(e=e.replace(/\r?\n/g,"")).indexOf(",");if(-1===t||t<=4)throw new TypeError("malformed data: URI");const r=e.substring(5,t).split(";");let n="",o=!1;const i=r[0]||"text/plain";let a=i;for(let e=1;e<r.length;e++)"base64"===r[e]?o=!0:(a+=`;${r[e]}`,0===r[e].indexOf("charset=")&&(n=r[e].substring(8)));r[0]||n.length||(a+=";charset=US-ASCII",n="US-ASCII");const s=o?"base64":"ascii",l=unescape(e.substring(t+1)),c=Buffer.from(l,s);return c.type=i,c.typeFull=a,c.charset=n,c},zr=require("node:util"),Mr=n(83),Fr=n(82);class Wr extends Error{constructor(e,t){super(e),Error.captureStackTrace(this,this.constructor),this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class Ur extends Wr{constructor(e,t,r){super(e,t),r&&(this.code=this.errno=r.code,this.erroredSysCall=r.syscall)}}const Vr=Symbol.toStringTag,Nr=e=>"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&"function"==typeof e.sort&&"URLSearchParams"===e[Vr],$r=e=>e&&"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&/^(Blob|File)$/.test(e[Vr]),Gr=(0,zr.promisify)(qr.pipeline),Hr=Symbol("Body internals");class Qr{constructor(e,{size:t=0}={}){let r=null;null===e?e=null:Nr(e)?e=Dr.Buffer.from(e.toString()):$r(e)||Dr.Buffer.isBuffer(e)||(zr.types.isAnyArrayBuffer(e)?e=Dr.Buffer.from(e):ArrayBuffer.isView(e)?e=Dr.Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof qr||(e instanceof Fr.FormData?r=(e=(0,Fr.formDataToBlob)(e)).type.split("=")[1]:e=Dr.Buffer.from(String(e))));let n=e;Dr.Buffer.isBuffer(e)?n=qr.Readable.from(e):$r(e)&&(n=qr.Readable.from(e.stream())),this[Hr]={body:e,stream:n,boundary:r,disturbed:!1,error:null},this.size=t,e instanceof qr&&e.on("error",(e=>{const t=e instanceof Wr?e:new Ur(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[Hr].error=t}))}get body(){return this[Hr].stream}get bodyUsed(){return this[Hr].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:t,byteLength:r}=await Kr(this);return e.slice(t,t+r)}async formData(){const e=this.headers.get("content-type");if(e.startsWith("application/x-www-form-urlencoded")){const e=new Fr.FormData,t=new URLSearchParams(await this.text());for(const[r,n]of t)e.append(r,n);return e}const{toFormData:t}=await n.e(1).then(n.bind(n,115));return t(this.body,e)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[Hr].body&&this[Hr].body.type||"",t=await this.arrayBuffer();return new Mr.default([t],{type:e})}async json(){const e=await this.text();return JSON.parse(e)}async text(){const e=await Kr(this);return(new TextDecoder).decode(e)}buffer(){return Kr(this)}}async function Kr(e){if(e[Hr].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[Hr].disturbed=!0,e[Hr].error)throw e[Hr].error;const{body:t}=e;if(null===t)return Dr.Buffer.alloc(0);if(!(t instanceof qr))return Dr.Buffer.alloc(0);const r=[];let n=0;try{for await(const o of t){if(e.size>0&&n+o.length>e.size){const r=new Ur(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(r),r}n+=o.length,r.push(o)}}catch(t){throw t instanceof Wr?t:new Ur(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t)}if(!0!==t.readableEnded&&!0!==t._readableState.ended)throw new Ur(`Premature close of server response while trying to fetch ${e.url}`);try{return r.every((e=>"string"==typeof e))?Dr.Buffer.from(r.join("")):Dr.Buffer.concat(r,n)}catch(t){throw new Ur(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}}Qr.prototype.buffer=(0,zr.deprecate)(Qr.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer"),Object.defineProperties(Qr.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,zr.deprecate)((()=>{}),"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});const Zr=(e,t)=>{let r,n,{body:o}=e[Hr];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return o instanceof qr&&"function"!=typeof o.getBoundary&&(r=new qr.PassThrough({highWaterMark:t}),n=new qr.PassThrough({highWaterMark:t}),o.pipe(r),o.pipe(n),e[Hr].stream=r,o=n),o},Yr=(0,zr.deprecate)((e=>e.getBoundary()),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),Xr=(e,t)=>null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":Nr(e)?"application/x-www-form-urlencoded;charset=UTF-8":$r(e)?e.type||null:Dr.Buffer.isBuffer(e)||zr.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof Fr.FormData?`multipart/form-data; boundary=${t[Hr].boundary}`:e&&"function"==typeof e.getBoundary?`multipart/form-data;boundary=${Yr(e)}`:e instanceof qr?null:"text/plain;charset=UTF-8",Jr="function"==typeof kr.validateHeaderName?kr.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){const t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},en="function"==typeof kr.validateHeaderValue?kr.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){const t=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"}),t}};class tn extends URLSearchParams{constructor(e){let t=[];if(e instanceof tn){const r=e.raw();for(const[e,n]of Object.entries(r))t.push(...n.map((t=>[e,t])))}else if(null==e);else{if("object"!=typeof e||zr.types.isBoxedPrimitive(e))throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");{const r=e[Symbol.iterator];if(null==r)t.push(...Object.entries(e));else{if("function"!=typeof r)throw new TypeError("Header pairs must be iterable");t=[...e].map((e=>{if("object"!=typeof e||zr.types.isBoxedPrimitive(e))throw new TypeError("Each header pair must be an iterable object");return[...e]})).map((e=>{if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");return[...e]}))}}}return t=t.length>0?t.map((([e,t])=>(Jr(e),en(e,String(t)),[String(e).toLowerCase(),String(t)]))):void 0,super(t),new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(r,n)=>(Jr(r),en(r,String(n)),URLSearchParams.prototype[t].call(e,String(r).toLowerCase(),String(n)));case"delete":case"has":case"getAll":return r=>(Jr(r),URLSearchParams.prototype[t].call(e,String(r).toLowerCase()));case"keys":return()=>(e.sort(),new Set(URLSearchParams.prototype.keys.call(e)).keys());default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const t=this.getAll(e);if(0===t.length)return null;let r=t.join(", ");return/^content-encoding$/i.test(e)&&(r=r.toLowerCase()),r}forEach(e,t){for(const r of this.keys())Reflect.apply(e,t,[this.get(r),r,this])}*values(){for(const e of this.keys())yield this.get(e)}*entries(){for(const e of this.keys())yield[e,this.get(e)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((e,t)=>(e[t]=this.getAll(t),e)),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((e,t)=>{const r=this.getAll(t);return e[t]="host"===t?r[0]:r.length>1?r:r[0],e}),{})}}Object.defineProperties(tn.prototype,["get","entries","forEach","values"].reduce(((e,t)=>(e[t]={enumerable:!0},e)),{}));const rn=new Set([301,302,303,307,308]),nn=e=>rn.has(e),on=Symbol("Response internals");class an extends Qr{constructor(e=null,t={}){super(e,t);const r=null!=t.status?t.status:200,n=new tn(t.headers);if(null!==e&&!n.has("Content-Type")){const t=Xr(e,this);t&&n.append("Content-Type",t)}this[on]={type:"default",url:t.url,status:r,statusText:t.statusText||"",headers:n,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[on].type}get url(){return this[on].url||""}get status(){return this[on].status}get ok(){return this[on].status>=200&&this[on].status<300}get redirected(){return this[on].counter>0}get statusText(){return this[on].statusText}get headers(){return this[on].headers}get highWaterMark(){return this[on].highWaterMark}clone(){return new an(Zr(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(e,t=302){if(!nn(t))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new an(null,{headers:{location:new URL(e).toString()},status:t})}static error(){const e=new an(null,{status:0,statusText:""});return e[on].type="error",e}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(an.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var sn=require("node:url");var ln=require("node:net");function cn(e,t=!1){return null==e?"no-referrer":(e=new URL(e),/^(about|blob|data):$/.test(e.protocol)?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e))}const un=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]);function dn(e){return!!/^about:(blank|srcdoc)$/.test(e)||("data:"===e.protocol||(!!/^(blob|filesystem):$/.test(e.protocol)||function(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;const t=e.host.replace(/(^\[)|(]$)/g,""),r=(0,ln.isIP)(t);return!(4!==r||!/^127\./.test(t))||!(6!==r||!/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t))||!/^(.+\.)*localhost$/.test(e.host)&&"file:"===e.protocol}(e)))}const pn=Symbol("Request internals"),fn=e=>"object"==typeof e&&"object"==typeof e[pn],hn=(0,zr.deprecate)((()=>{}),".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)");class yn extends Qr{constructor(e,t={}){let r;if(fn(e)?r=new URL(e.url):(r=new URL(e),e={}),""!==r.username||""!==r.password)throw new TypeError(`${r} is an url with embedded credentials.`);let n=t.method||e.method||"GET";if(n=n.toUpperCase(),"data"in t&&hn(),(null!=t.body||fn(e)&&null!==e.body)&&("GET"===n||"HEAD"===n))throw new TypeError("Request with GET/HEAD method cannot have body");const o=t.body?t.body:fn(e)&&null!==e.body?Zr(e):null;super(o,{size:t.size||e.size||0});const i=new tn(t.headers||e.headers||{});if(null!==o&&!i.has("Content-Type")){const e=Xr(o,this);e&&i.set("Content-Type",e)}let a=fn(e)?e.signal:null;if("signal"in t&&(a=t.signal),null!=a&&("object"!=typeof(s=a)||"AbortSignal"!==s[Vr]&&"EventTarget"!==s[Vr]))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");var s;let l=null==t.referrer?e.referrer:t.referrer;if(""===l)l="no-referrer";else if(l){const e=new URL(l);l=/^about:(\/\/)?client$/.test(e)?"client":e}else l=void 0;this[pn]={method:n,redirect:t.redirect||e.redirect||"follow",headers:i,parsedURL:r,signal:a,referrer:l},this.follow=void 0===t.follow?void 0===e.follow?20:e.follow:t.follow,this.compress=void 0===t.compress?void 0===e.compress||e.compress:t.compress,this.counter=t.counter||e.counter||0,this.agent=t.agent||e.agent,this.highWaterMark=t.highWaterMark||e.highWaterMark||16384,this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||!1,this.referrerPolicy=t.referrerPolicy||e.referrerPolicy||""}get method(){return this[pn].method}get url(){return(0,sn.format)(this[pn].parsedURL)}get headers(){return this[pn].headers}get redirect(){return this[pn].redirect}get signal(){return this[pn].signal}get referrer(){return"no-referrer"===this[pn].referrer?"":"client"===this[pn].referrer?"about:client":this[pn].referrer?this[pn].referrer.toString():void 0}get referrerPolicy(){return this[pn].referrerPolicy}set referrerPolicy(e){this[pn].referrerPolicy=function(e){if(!un.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}(e)}clone(){return new yn(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(yn.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});const bn=e=>{const{parsedURL:t}=e[pn],r=new tn(e[pn].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(null===e.body&&/^(post|put)$/i.test(e.method)&&(n="0"),null!==e.body){const t=(e=>{const{body:t}=e[Hr];return null===t?0:$r(t)?t.size:Dr.Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null})(e);"number"!=typeof t||Number.isNaN(t)||(n=String(t))}n&&r.set("Content-Length",n),""===e.referrerPolicy&&(e.referrerPolicy="strict-origin-when-cross-origin"),e.referrer&&"no-referrer"!==e.referrer?e[pn].referrer=function(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if("no-referrer"===e.referrer||""===e.referrerPolicy)return null;const n=e.referrerPolicy;if("about:client"===e.referrer)return"no-referrer";const o=e.referrer;let i=cn(o),a=cn(o,!0);i.toString().length>4096&&(i=a),t&&(i=t(i)),r&&(a=r(a));const s=new URL(e.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return a;case"unsafe-url":return i;case"strict-origin":return dn(i)&&!dn(s)?"no-referrer":a.toString();case"strict-origin-when-cross-origin":return i.origin===s.origin?i:dn(i)&&!dn(s)?"no-referrer":a;case"same-origin":return i.origin===s.origin?i:"no-referrer";case"origin-when-cross-origin":return i.origin===s.origin?i:a;case"no-referrer-when-downgrade":return dn(i)&&!dn(s)?"no-referrer":i;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}(e):e[pn].referrer="no-referrer",e[pn].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate,br");let{agent:o}=e;"function"==typeof o&&(o=o(t)),r.has("Connection")||o||r.set("Connection","close");const i=(e=>{if(e.search)return e.search;const t=e.href.length-1,r=e.hash||("#"===e.href[t]?"#":"");return"?"===e.href[t-r.length]?"?":""})(t);return{parsedURL:t,options:{path:t.pathname+i,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:o}}};class gn extends Wr{constructor(e,t="aborted"){super(e,t)}}n(90);const mn=new Set(["data:","http:","https:"]);var vn=async function e(t,r){return new Promise(((n,o)=>{const i=new yn(t,r),{parsedURL:a,options:s}=bn(i);if(!mn.has(a.protocol))throw new TypeError(`node-fetch cannot load ${t}. URL scheme "${a.protocol.replace(/:$/,"")}" is not supported.`);if("data:"===a.protocol){const e=Br(i.url),t=new an(e,{headers:{"Content-Type":e.typeFull}});return void n(t)}const l=("https:"===a.protocol?Ir:kr).request,{signal:c}=i;let u=null;const d=()=>{const e=new gn("The operation was aborted.");o(e),i.body&&i.body instanceof qr.Readable&&i.body.destroy(e),u&&u.body&&u.body.emit("error",e)};if(c&&c.aborted)return void d();const p=()=>{d(),h()},f=l(a.toString(),s);c&&c.addEventListener("abort",p);const h=()=>{f.abort(),c&&c.removeEventListener("abort",p)};f.on("error",(e=>{o(new Ur(`request to ${i.url} failed, reason: ${e.message}`,"system",e)),h()})),function(e,t){const r=Dr.Buffer.from("0\r\n\r\n");let n,o=!1,i=!1;e.on("response",(e=>{const{headers:t}=e;o="chunked"===t["transfer-encoding"]&&!t["content-length"]})),e.on("socket",(a=>{const s=()=>{if(o&&!i){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",t(e)}};a.prependListener("close",s),e.on("abort",(()=>{a.removeListener("close",s)})),a.on("data",(e=>{i=0===Dr.Buffer.compare(e.slice(-5),r),!i&&n&&(i=0===Dr.Buffer.compare(n.slice(-3),r.slice(0,3))&&0===Dr.Buffer.compare(e.slice(-2),r.slice(3))),n=e}))}))}(f,(e=>{u.body.destroy(e)})),process.version<"v14"&&f.on("socket",(e=>{let t;e.prependListener("end",(()=>{t=e._eventsCount})),e.prependListener("close",(r=>{if(u&&t<e._eventsCount&&!r){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",u.body.emit("error",e)}}))})),f.on("response",(t=>{f.setTimeout(0);const a=function(e=[]){return new tn(e.reduce(((e,t,r,n)=>(r%2==0&&e.push(n.slice(r,r+2)),e)),[]).filter((([e,t])=>{try{return Jr(e),en(e,String(t)),!0}catch{return!1}})))}(t.rawHeaders);if(nn(t.statusCode)){const s=a.get("Location");let l=null;try{l=null===s?null:new URL(s,i.url)}catch{if("manual"!==i.redirect)return o(new Ur(`uri requested responds with an invalid redirect URL: ${s}`,"invalid-redirect")),void h()}switch(i.redirect){case"error":return o(new Ur(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),void h();case"manual":break;case"follow":{if(null===l)break;if(i.counter>=i.follow)return o(new Ur(`maximum redirect reached at: ${i.url}`,"max-redirect")),void h();const s={headers:new tn(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:Zr(i),signal:i.signal,size:i.size,referrer:i.referrer,referrerPolicy:i.referrerPolicy};if(!((e,t)=>{const r=new URL(t).hostname,n=new URL(e).hostname;return r===n||r.endsWith(`.${n}`)})(i.url,l))for(const e of["authorization","www-authenticate","cookie","cookie2"])s.headers.delete(e);if(303!==t.statusCode&&i.body&&r.body instanceof qr.Readable)return o(new Ur("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void h();303!==t.statusCode&&(301!==t.statusCode&&302!==t.statusCode||"POST"!==i.method)||(s.method="GET",s.body=void 0,s.headers.delete("content-length"));const c=function(e){const t=(e.get("referrer-policy")||"").split(/[,\s]+/);let r="";for(const e of t)e&&un.has(e)&&(r=e);return r}(a);return c&&(s.referrerPolicy=c),n(e(new yn(l,s))),void h()}default:return o(new TypeError(`Redirect option '${i.redirect}' is not a valid value of RequestRedirect`))}}c&&t.once("end",(()=>{c.removeEventListener("abort",p)}));let s=(0,qr.pipeline)(t,new qr.PassThrough,(e=>{e&&o(e)}));process.version<"v12.10"&&t.on("aborted",p);const l={url:i.url,status:t.statusCode,statusText:t.statusMessage,headers:a,size:i.size,counter:i.counter,highWaterMark:i.highWaterMark},d=a.get("Content-Encoding");if(!i.compress||"HEAD"===i.method||null===d||204===t.statusCode||304===t.statusCode)return u=new an(s,l),void n(u);const y={flush:Lr.Z_SYNC_FLUSH,finishFlush:Lr.Z_SYNC_FLUSH};if("gzip"===d||"x-gzip"===d)return s=(0,qr.pipeline)(s,Lr.createGunzip(y),(e=>{e&&o(e)})),u=new an(s,l),void n(u);if("deflate"===d||"x-deflate"===d){const e=(0,qr.pipeline)(t,new qr.PassThrough,(e=>{e&&o(e)}));return e.once("data",(e=>{s=8==(15&e[0])?(0,qr.pipeline)(s,Lr.createInflate(),(e=>{e&&o(e)})):(0,qr.pipeline)(s,Lr.createInflateRaw(),(e=>{e&&o(e)})),u=new an(s,l),n(u)})),void e.once("end",(()=>{u||(u=new an(s,l),n(u))}))}if("br"===d)return s=(0,qr.pipeline)(s,Lr.createBrotliDecompress(),(e=>{e&&o(e)})),u=new an(s,l),void n(u);u=new an(s,l),n(u)})),(async(e,{body:t})=>{null===t?e.end():await Gr(t,e)})(f,i).catch(o)}))};function _n(e,t,r,n,o,i,a){try{var s=e[i](a),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(n,o)}function wn(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){_n(i,n,o,a,s,"next",e)}function s(e){_n(i,n,o,a,s,"throw",e)}a(void 0)}))}}function Sn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function En(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Sn(Object(r),!0).forEach((function(t){Tn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Tn(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pn(e,t,r){e.pathParameters=e.pathParameters||{},e.pathParameters.contentType=r,e.pathParameters.protocol=e.pathParameters.protocol||"https";const n=jr(e.url,e.pathParameters),o=f();o.Accept="application/json",e.headers&&e.headers.trackingId&&(o["Tracking-ID"]=e.headers.trackingId);let i=En({method:"GET",headers:o,mode:"cors"},e.abortSignal&&{signal:e.abortSignal});return t&&(i=En(En({},i),{},{transformResponse:t})),{options:e,url:n,requestOptions:i}}function Rn(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;return vn(xn(e,t),r).then(function(){var t=wn((function*(t){const r=yield n(t);if(!t.ok)return Promise.reject({response:t,data:r});if(e._getOriginalResponse)return t;if("batch"===e.requestType&&202===t.status)return t.headers.location;const o=t.headers&&(t.headers.get("tracking-id")||t.headers.get("Tracking-ID"));return En({data:r},o&&{trackingId:o})}));return function(e){return t.apply(this,arguments)}}()).catch((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.signal&&!0===r.signal.aborted)return Promise.reject(t);const{response:n,data:o}=t,i=e._getOriginalResponse?n||t:An(o,n&&n.status)||t;return Promise.reject(i)}))}function On(e){return e.text()}function Cn(e){return e.json()}const An=(e,t)=>{if(!e)return;const{error:r,detailedError:n}=e;return r&&n?{message:r.description,data:n,status:t}:e};function xn(e,t){if(!e.queryParameters)return t;return t+"?"+Object.keys(e.queryParameters).map((function(t){return function(e,t){const r=e.queryParameters[t];let n="";n=Array.isArray(r)?r.map((function(e){return jn(t,e)})).join("&"):jn(t,e.queryParameters[t]);return n}(e,t)})).join("&")}function jn(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}function kn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function In(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ln(e,t){const r=function(e){try{return JSON.stringify(e)}catch(e){return null}}(e);if(!r)throw new Error("Unsupported request body type: "+e);return function(e,t,r){e.headers||(e.headers={}),e.headers[t]||e.headers[t.toLowerCase()]||(e.headers[t]=r)}(t,"Content-Type","application/json"),r}const qn=function(e,t){const r=Pn(e,t,"json");return Rn(r.options,r.url,r.requestOptions,Cn)},Dn=function(e){e.pathParameters=e.pathParameters||{},e.pathParameters.contentType="json",e.pathParameters.protocol=e.pathParameters.protocol||"https";const t=jr(e.url,e.pathParameters),r=f();r.Accept="application/json",e.headers&&e.headers.trackingId&&(r["Tracking-ID"]=e.headers.trackingId);const n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?kn(Object(r),!0).forEach((function(t){In(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({method:"POST",headers:r,mode:"cors",redirect:"follow"},e.abortSignal&&{signal:e.abortSignal});return function(e,t){const r=e.bodyParameters;let n;r&&(rt()(r)?n=Ln(r,t):B()(r)&&(n=r),t.body=n)}(e,n),Rn(e,t,n,Cn)},Bn=function(e,t){const r=Pn(e,t,"text");return Rn(r.options,r.url,r.requestOptions,On)};let zn=!1;const Mn=()=>zn?"http":"https";var Fn=(e,t)=>{e.protocol=e&&e.protocol||Mn();const r=e.pathParameters;return r&&"text"===r.contentType?Bn(e,t):qn(e,t)},Wn=e=>(e.protocol=e.protocol||Mn(),Dn(e));function Un(e){const t=e[1];return!t.application||t.application===ht}function Vn(e){return e[1].application===ft}function Nn(e){return e[1].application===pt}function $n(e){return e[1].application===yt}function Gn(e){return e[1].application===bt}function Hn(e){return{name:e[0],fieldName:e[2]}}function Qn(e,t){let r=Object.keys(e).map((n=e,e=>[n[e]&&n[e].name||e,n[e],e]));var n;return r=r.filter(t),r=r.map(Hn),r}function Kn(e){return Qn(e,Un)}function Zn(e){return Qn(e,Vn)}function Yn(e){return Qn(e,Nn)}function Xn(e){return Qn(e,$n)}function Jn(e){return Qn(e,Gn)}function eo(e,t,r){const n={};return t(e).forEach((t=>{if(t.fieldName in r){const o=e[t.fieldName],i=r[t.fieldName];o.cast?o.cast(i,n):n[t.name]=i}})),n}function to(e,t){return{pathParams:eo(e,Zn,t),queryParams:eo(e,Kn,t),postParams:eo(e,Yn,t),otherParams:eo(e,Xn,t),headerParams:eo(e,Jn,t)}}var ro=n(93),no=n.n(ro);const oo="contentType";function io(e){const t=Object.assign({},e);return t[oo]={application:ft},t}function ao(e){return e[oo]=e[oo]||"json",e}const so=e=>(t,r,n)=>{const{pathParams:o,queryParams:i,postParams:a,headerParams:s}=to(io(t),ao(r)),l={headers:s,url:"{protocol}://"+e,pathParameters:o,queryParameters:i,abortSignal:n};return no()(a)?Fn(l):(l.bodyParameters=a,Wn(l))};var lo=(e,t)=>{if(null==e)throw new TypeError(t);return e};function co(e,t){return encodeURIComponent(e)+"="+encodeURIComponent(t)}function uo(e,t){if(!t)return e;return e+"?"+Object.keys(t).map((e=>function(e,t){const r=t[e];let n="";return n=Array.isArray(r)?r.map((function(t){return co(e,t)})).join("&"):co(e,t[e]),n}(e,t))).join("&")}var po=(e,t,r)=>uo(jr(e,t),r);function fo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ho(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yo(e){let t;switch(e.batchMode){case"async":t=e.endpoints.async;break;case"sync":t=e.endpoints.sync;break;default:t=e.endpoints.async,e.queryParams.redirectMode="manual"}return"sync"!==e.batchMode&&e.waitTimeSeconds?e.queryParams.waitTimeSeconds=e.waitTimeSeconds:e.queryParams&&e.queryParams.waitTimeSeconds&&delete e.queryParams.waitTimeSeconds,Wn(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fo(Object(r),!0).forEach((function(t){ho(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fo(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({url:"{protocol}://"+t,queryParameters:e.queryParams,bodyParameters:e.bodyParams,headers:e.headers,requestType:"batch"},e.abortSignal&&{abortSignal:e.abortSignal})).then((t=>"manual"===e.queryParams.redirectMode?Fn({url:"{protocol}://"+ur+t}):t))}const bo=(e,t)=>(r,n,o)=>{const i={},a={};i.key=n.key;const s={};n.trackingId&&(s.trackingId=n.trackingId);const l=lo(n.batchItems);r=io(r),a.batchItems=l.map((function(e){const{pathParams:n,queryParams:o,postParams:i}=to(r,ao(e)),a={query:po(t.single,n,o)};return no()(i)||(a.post=i),a}));return yo({batchMode:n.batchMode||(a.batchItems.length<=e?"sync":"redirect"),waitTimeSeconds:n.waitTimeSeconds,queryParams:i,bodyParams:a,headers:s,endpoints:{sync:t.batchSync,async:t.batch},abortSignal:o})},go=["origins","destinations"];function mo(e){const t={origins:e.origins,destinations:e.destinations},r=function(e){const t=Object.keys(e).filter((e=>-1===go.indexOf(e)));return t.length?t.reduce(((t,r)=>(t[r]=e[r],t)),{}):null}(e);return r&&(t.options={post:r}),t}const vo={key:{validators:[Ae]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},geometries:{validators:[function(e){if(oe(e))throw new TypeError("an array is expected, but "+e+"  ["+typeof e+"] given");return e}],required:!0},geometriesZoom:{validators:[function(e){return ge(0,22,"a geometries zoom value <0, 22> is expected")(e)}]}};function _o(e,t){const r=new dr(t),n=so(r.resolve("adpEndpoint")),o=bo(100,{single:r.resolve("batchAdpQueryEndpoint"),batchSync:r.resolve("batchSyncSearchEndpoint"),batch:r.resolve("batchSearchEndpoint")});return Cr(vo,g,"additionalData",(function(e,t){return n(vo,e,t).then(vt)}),(function(e,t){return o(vo,e,t).then((e=>vt(e,dt)))}))(e,t)}var wo=n(110),So=n.n(wo);function Eo(e,t){if(e)throw new TypeError(t)}function To(e){const t=parseFloat(e);if(!isFinite(t))throw new TypeError("an number is expected, but "+e+" ["+typeof e+"] given");return t-180*Math.ceil((t-90)/180)}function Po(e){const t=parseFloat(e);if(!isFinite(t))throw new TypeError("an number is expected, but "+e+" ["+typeof e+"] given");return t-360*Math.ceil((t-180)/360)}function Ro(e){if(Array.isArray(e)&&2===e.length)return[...e].reverse();if(B()(e)){const t=e.match(j);return Eo(!t||!t[1]||!t[2],"A point is expected, but "+e+" ["+typeof e+"] given"),[t[2],t[1]]}if(function(e){return q()(e.lat)&&q()(e.lng)}(e))return[e.lat(),e.lng()];if(n=e,Object.prototype.hasOwnProperty.call(n,"lat")&&(Object.prototype.hasOwnProperty.call(n,"lon")||Object.prototype.hasOwnProperty.call(n,"lng")))return[e.lat,(t=e.lon,r=e.lng,void 0===t?r:t)];var t,r,n,o;if(o=e,Object.prototype.hasOwnProperty.call(o,"x")&&Object.prototype.hasOwnProperty.call(o,"y"))return[e.y,e.x];if(function(e){return Object.prototype.hasOwnProperty.call(e,"latitude")&&Object.prototype.hasOwnProperty.call(e,"longitude")}(e))return[e.latitude,e.longitude];throw new TypeError("A point is expected, but "+e+" ["+typeof e+"] given")}function Oo(e){let t,r;if(function(e){return Object.prototype.hasOwnProperty.call(e,"minLon")&&Object.prototype.hasOwnProperty.call(e,"minLat")&&Object.prototype.hasOwnProperty.call(e,"maxLon")&&Object.prototype.hasOwnProperty.call(e,"maxLat")}(e))return e;if(function(e){return Object.prototype.hasOwnProperty.call(e,"left")&&Object.prototype.hasOwnProperty.call(e,"bottom")&&Object.prototype.hasOwnProperty.call(e,"right")&&Object.prototype.hasOwnProperty.call(e,"top")}(e))return{minLon:e.left,minLat:e.bottom,maxLon:e.right,maxLat:e.top};if(function(e){return q()(e.getWest)&&q()(e.getEast)&&q()(e.getSouth)&&q()(e.getNorth)}(e))return{minLon:e.getWest(),minLat:e.getSouth(),maxLon:e.getEast(),maxLat:e.getNorth()};if(q()(e.getNorthEast)&&q()(e.getSouthWest))return r=Ro(e.getNorthEast()),t=Ro(e.getSouthWest()),{minLon:t[1],minLat:t[0],maxLon:r[1],maxLat:r[0]};if(Array.isArray(e)&&4===e.length)return{minLon:e[0],minLat:e[1],maxLon:e[2],maxLat:e[3]};if(Array.isArray(e)&&2===e.length)return t=Ro(e[0]),r=Ro(e[1]),{minLon:t[1],minLat:t[0],maxLon:r[1],maxLat:r[0]};if(B()(e)&&4===(e=e.trim().split(/\s*,\s*/)).length)return{minLon:parseFloat(e[0]),minLat:parseFloat(e[1]),maxLon:parseFloat(e[2]),maxLat:parseFloat(e[3])};throw new TypeError("Unable to cast "+e+" ["+typeof e+"] to bounding box")}function Co(e,t){if(M()(e)||""===e)return"";if(t[e])return e;e=e.toLowerCase();for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&"defaultValue"!==r&&Object.prototype.hasOwnProperty.call(t[r].synonyms,e))return r;return console.warn("Value provided is invalid ("+e+"). Default value ("+t.defaultValue.value+") will be used instead."),t.defaultValue.value}function Ao(e){const t=Ro(e);return To(t[0])+","+Po(t[1])}function xo(e){return B()(e)&&e.indexOf("circle")>-1?function(e){const t=e.match(k);Eo(!(t&&t[1]&&t[2]&&t[3]),"Unable to cast "+e+" ["+typeof e+"] to circle");const r=parseFloat(t[2]),n=parseFloat(t[1]),o=parseFloat(t[3]);return Eo(!isFinite(r)||!isFinite(n),"Unable to cast "+e+" ["+typeof e+"] to circle"),"circle("+r+","+n+","+o+")"}(e):Array.isArray(e)&&3===e.length?"circle("+To(e[1])+","+Po(e[0])+","+e[2]+")":Ao(e)}function jo(e){const t=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(Ao(e[r]));return t}function ko(e){if(!B()(e))return e;const t=e.split(",");return{latitude:t[0],longitude:t[1]}}function Io(e){return function(e){let t=e.minLon,r=e.maxLon,n=e.minLat,o=e.maxLat;if(r-t>360)r=180,t=-180;else{if(r>270){const e=Math.ceil(t/360);r-=360*e,t-=360*e}if(t<-270){const e=Math.ceil(-r/360);r+=360*e,t+=360*e}}return n=n<-90?-90:n,o=o>90?90:o,{minLon:t,minLat:n,maxLon:r,maxLat:o}}(Oo(e))}function Lo(e){return Ao(e)}function qo(e){if(e&&e instanceof Date)return e.toISOString();if(!e||!B()(e))throw new TypeError("Unable to cast "+e+" ["+typeof e+"] to datetime value.");return"now"!==e&&(e=new Date(e).toISOString()),e}function Do(e){let t;Eo(!e||!Array.isArray(e),"Unable to cast "+e+" ["+typeof e+"] to geometry list (array)");for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t=e[r],"POLYGON"===t.type?t.vertices=jo(t.vertices):"CIRCLE"===t.type&&(t.position=Ao(t.position)));return e}function Bo(e){return Co(e,$)}function zo(e){if(!e)return[];if(B()(e))return(e=e.trim().replace(/\s*[,;]\s*/g,",")).split(/[,;]+/);if(Array.isArray(e))return e;throw new TypeError("Unable to cast "+e+" ["+typeof e+"] to array of strings")}function Mo(e){return Math.round(Number(e))}function Fo(e){if(B()(e))return e;if(!Array.isArray(e))throw new TypeError("An array is required");return e.join(":")}function Wo(e){if(Array.isArray(e))return e.join();throw new TypeError("An array is required")}function Uo(e){return So()(e)}const Vo={key:{validators:[H]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},maxDetourTime:{validators:[Ce(1,3600)],required:!0},spreadingMode:{validators:[K(["auto"],"spreading mode")]},route:{required:!0,converters:[function(e){return{points:e.map(Ro).map((e=>{let[t,r]=e;return{lat:t,lon:r}}))}}],validators:[function(e){let t;if(void 0===e.points)throw new TypeError("Invalid structure of the route object");if(t=e.points,t&&!(Array.isArray(t)&&t.length>2))throw new TypeError("Provided route array "+t+" is not valid. It should be an array with at least 2 points.");return t.forEach(ye),e}],application:pt},query:{required:!0,validators:[Ae],application:ft},limit:{validators:[Ce(1,20)]},type:{validators:[Ae],defaultValue:"searchAlongRoute",application:ft},brandSet:{validators:[Ae]},categorySet:{validators:[Ae]},connectorSet:{validators:[Le]},minPowerKW:{validators:[Q]},maxPowerKW:{validators:[Q]},openingHours:{validators:[K(["nextSevenDays"],"openingHours parameter")]},timeZone:{validators:[K(["iana"],"timeZone parameter")]},sortBy:{validators:[K(["detourTime","detourOffset","detourDistance"],"sortBy")]},detourOffset:{validators:[Se]},view:{validators:[Ae]}};function No(e,t){const r=new dr(t),n=so(r.resolve("searchEndpoint")),o=bo(100,{single:r.resolve("batchSearchQueryEndpoint"),batchSync:r.resolve("batchSyncSearchEndpoint"),batch:r.resolve("batchSearchEndpoint")});return Cr(Vo,g,"alongRouteSearch",((e,t)=>n(Vo,e,t).then((e=>vt(e,ut)))),((e,t)=>o(Vo,e,t).then((e=>vt(e,ut)))))(e,t)}const $o="combustion",Go="electric",Ho="any";function Qo(e){if(isNaN(parseFloat(e))||!isFinite(e))throw new Error("A value parsable to float is expected, but "+e+" ["+typeof e+"] given")}function Ko(e){const t={};e.forEach((function(e){const r=e.split(",");if(2!==r.length)throw new Error("Invalid number of parameters in the pair around "+e);if(0===r[0].trim().length)throw new Error("Speed value must not be empty.");if(0===r[1].trim().length)throw new Error("Consumption value must not be empty.");if(Qo(r[0]),Qo(r[1]),Object.prototype.hasOwnProperty.call(t,parseFloat(r[0])))throw new Error("Duplicate speed: "+r[0]);t[parseFloat(r[0])]=parseFloat(r[1])})),Object.keys(t).length>1&&function(e){const t=Object.keys(e).sort((function(e,t){return parseFloat(e)>parseFloat(t)})),r=t.length;if(e[t[r-2]]>e[t[r-1]])throw new Error("Consumption for two highest speeds should be increasing")}(t)}function Zo(e,t){if(e.vehicleEngineType&&e.vehicleEngineType!==t&&t!==Ho)throw new Error("Expecting vehicleEngineType set to "+t)}function Yo(e,t,r){if(!e[t]||!e[r])throw new Error("Missing dependant parameter. Expecting both defined: "+t+", "+r)}function Xo(e){if("bicycle"===e.travelMode||"pedestrian"===e.travelMode)throw new Error("Consumption model parameters cannot be set if travelMode is set to bicycle or pedestrian")}function Jo(e){if(!e.constantSpeedConsumptionInLitersPerHundredkm&&!e.constantSpeedConsumptionInkWhPerHundredkm)throw new Error("Consumption model cannot be used without setting constant speed consumption parameter")}function ei(e){return(t,r)=>{if(null==t)return;if(Xo(r),Zo(r,e),!B()(t))throw new TypeError('Expecting a String like "15.2,12.2:8.0,9.0"');const n=t.split(":");if(n.length<1||n.length>25)throw new Error("Incorrect amount of speed-consumption pairs provided. Expecting 1-25, but got "+t.length);Ko(n)}}function ti(e,t){return function(r,n){if(r&&(Xo(n),Jo(n),Zo(n,e),Qo(r),r<0))throw new Error(t+": Expecting positive value")}}function ri(e,t){return function(r,n){r&&(Xo(n),Jo(n),Zo(n,Ho),Yo(n,e,t),Yo(n,e,"vehicleWeight"),n.vehicleEngineType===$o&&Yo(n,e,"fuelEnergyDensityInMJoulesPerLiter"),function(e,t,r){if(e[t]*e[r]>1)throw new Error("Product of "+t+" and "+r+" cannot exceed 1")}(n,e,t),Qo(r))}}function ni(e,t){return function(r,n){r&&(Xo(n),Jo(n),Zo(n,Go),Yo(n,e,t),Qo(r))}}function oi(e,t){let r,n;if("electric"===t.vehicleEngineType){if(r=t.currentChargeInkWh,n=t.energyBudgetInkWh,n>r)throw new Error("Energy budget may not be greater than current energy.")}else if(r=t.currentFuelInLiters,n=t.fuelBudgetInLiters,n>r)throw new Error("Fuel budget may not be greater than current fuel.");if(n<0)throw new Error("Budget may not be negative.")}function ii(e,t,r){const n="constantSpeedConsumptionInLitersPerHundredkm"in t,o="constantSpeedConsumptionInkWhPerHundredkm"in t,i="electric"===t.vehicleEngineType;if("energyBudgetInkWh"===r&&e){if(!i)throw new Error('Engine type should be "electric" when energyBudgetInkWh is set');if(!o)throw new Error("Missing constant speed consumption for electric engine.")}else if("fuelBudgetInLiters"===r&&e){if(i)throw new Error('Engine type should be "combustion" or undefined when fuelBudgetInLiters is set');if(!n)throw new Error("Missing constant speed consumption for combustion engine.")}}function ai(e,t){return function(r,n){if(r&&Object.prototype.hasOwnProperty.call(n,t)&&T(n[t]))throw new Error(e+" parameter cannot be used in conjunction with "+t)}}function si(e,t){return function(r,n){if(r&&!Object.prototype.hasOwnProperty.call(n,t))throw new Error(t+" must be specified when using with "+e)}}function li(e,t){const r=no()(t.query),n=no()(t.brandSet),o=no()(t.categorySet);if(r&&n&&o)throw new Error("Empty query parameter is only allowed when used with brandSet or categorySet filters")}function ci(e,t){const r=t.recuperationInkWhPerkmAltitudeLoss,n=t.consumptionInkWhPerkmAltitudeGain;if(Qo(r),Qo(n),n<r)throw new Error("consumptionInkWhPerkmAltitudeGain must be greater than recuperationInkWhPerkmAltitudeLoss");if(n>500)throw new Error("recuperationInkWhPerkmAltitudeLoss and less than 500.0");if(r<0)throw new Error("recuperationInkWhPerkmAltitudeLoss must be greater than 0.0")}var ui=()=>({__all:{validators:[li]},key:{validators:[Ae]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},query:{validators:[Ae],application:ft,defaultValue:""},typeahead:{validators:[Se]},limit:{validators:[Fe]},offset:{validators:[We],name:"ofs"},language:{validators:[ke],converters:[Bo]},countrySet:{validators:[Ie]},radius:{validators:[Ee]},center:{converters:[Lo],validators:[ze],cast:(e,t)=>{const r=e.split(",");t.lat=r[0],t.lon=r[1]}},type:{validators:[Ae],defaultValue:"search",application:ft},bestResult:{validators:[Se],cast:(e,t)=>{e&&(t.limit=1,t.ofs=0)}},protocol:{validators:[K(["http","https"],"protocol")]},extendedPostalCodesFor:{validators:[Ae]},view:{validators:[K(["IL","MA","IN","PK","Unified","RU","TR","AR","CN"],"view")]},brandSet:{validators:[Ae]},categorySet:{validators:[Ae]},connectorSet:{validators:[Le]},minPowerKW:{validators:[Q]},maxPowerKW:{validators:[Q]},openingHours:{validators:[K(["nextSevenDays"],"openingHours parameter")]},timeZone:{validators:[K(["iana"],"timeZone parameter")]},mapcodes:{validators:[De]},fuelSet:{validators:[qe]},relatedPois:{validators:[K(["off","child","parent","all"],"relatedPois")]}});const di=()=>({validators:[Re],converters:[Io],cast:(e,t)=>{t.topLeft="".concat(e.maxLat,",").concat(e.minLon),t.btmRight="".concat(e.minLat,",").concat(e.maxLon)}});class pi{constructor(e,t){this.options=e,this.additionalOptions=t,this.defaultFields=x(ui()),this.fields={}}_getRestService(){const e=new dr(this.additionalOptions);return{search:so(e.resolve("searchEndpoint")),batch:bo(100,{single:e.resolve("batchSearchQueryEndpoint"),batchSync:e.resolve("batchSyncSearchEndpoint"),batch:e.resolve("batchSearchEndpoint")})}}handleBatchServiceCall(e,t){return this._getRestService().batch(this.fields,e,t).then((e=>vt(e,dt)))}handleServiceCall(e,t){return this._getRestService().search(this.fields,e,t).then((t=>{let{data:r,trackingId:n}=t;return vt({data:e.bestResult?r.results[0]:r,trackingId:n},ut)}))}construct(e){this.fields=I(this.fields,this.defaultFields);return Cr(this.fields,g,e||"search",this.handleServiceCall.bind(this),this.handleBatchServiceCall.bind(this))(this.options,this.additionalOptions)}}class fi extends pi{constructor(e,t){super(e,t),this.fields.type={defaultValue:"categorySearch",visible:!1},this.fields.boundingBox=di()}}function hi(e,t){return new fi(e,t).construct("categorySearch")}const yi={key:{validators:[H]},chargingAvailability:{validators:[Ae],required:!0},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},connectorSet:{validators:[Le]},minPowerKW:{validators:[Q]},maxPowerKW:{validators:[Q]}};function bi(e,t){const r=new dr(t),n=so(r.resolve("chargingAvailabilityEndpoint")),o=bo(100,{single:r.resolve("batchChargingAvailabilityQueryEndpoint"),batchSync:r.resolve("batchSyncSearchEndpoint"),batch:r.resolve("batchSearchEndpoint")});return Cr(yi,h,"chargingAvailability",(function(e,t){return n(yi,e,t).then(vt)}),(function(e,t){return o(yi,e,t).then((e=>vt(e,dt)))}))(e,t)}class gi extends pi{constructor(e,t){super(e,t),this.fields.minFuzzyLevel={validators:[Me],defaultValue:1},this.fields.maxFuzzyLevel={validators:[Me],defaultValue:2},this.fields.idxSet={validators:[Ae]},this.fields.entityTypeSet={converters:[Uo,Wo],validators:[Ue]},this.fields.sessionId={validators:[Ae]},this.fields.clientTime={validators:[Ge]},this.fields.boundingBox=di()}}function mi(e,t){return new gi(e,t).construct("fuzzySearch")}class vi extends pi{constructor(e,t){super(e,t),this.fields.type={defaultValue:"geometrySearch",visible:!1,application:ft},this.fields.key={validators:[H]},this.fields.limit={validators:[Fe]},this.fields.language={validators:[ke]},this.fields.geometryList={validators:[Ne],converters:[Do],application:pt},this.fields.idxSet={validators:[Ae]},this.fields.protocol={validators:[K(["http","https"],"protocol")]},this.fields.extendedPostalCodesFor={validators:[Ae]},this.fields.entityTypeSet={converters:[Uo,Wo],validators:[Ue]},this.fields.boundingBox=di()}}function _i(e,t){return new vi(e,t).construct("geometrySearch")}class wi extends pi{constructor(e,t){super(e,t),this.fields.__all={validators:[]},this.fields.type={defaultValue:"nearbySearch",visible:!1},this.fields.query={visible:!1},this.fields.center={required:!0},this.fields.radius={required:!1,validators:[Oe(1,5e4)]},this.fields.typeahead={visible:!1}}_getRestService(){const e=new dr(this.additionalOptions);return{search:so(e.resolve("nearbySearchEndpoint")),batch:bo(100,{single:e.resolve("batchNearbySearchQueryEndpoint"),batchSync:e.resolve("batchSyncSearchEndpoint"),batch:e.resolve("batchSearchEndpoint")})}}}function Si(e,t){return new wi(e,t).construct("nearbySearch")}const Ei={key:{validators:[Ae]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},entityId:{validators:[Ae],required:!0},language:{validators:[ke],converters:[Bo]},relatedPois:{validators:[K(["off","child","parent","all"],"relatedPois")]},mapcodes:{validators:[De]},timeZone:{validators:[K(["iana"],"timeZone parameter")]},openingHours:{validators:[K(["nextSevenDays"],"openingHours parameter")]},view:{validators:[K(["AR","IL","MA","IN","PK","Unified","RU","TR","CN"],"view")]}};function Ti(e,t){const r=new dr(t),n=so(r.resolve("placeByIdEndpoint"));return Cr(Ei,g,"placeById",((e,t)=>n(Ei,e,t).then((e=>vt(e,ut)))))(e,t)}const Pi={key:{validators:[Ae]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},language:{validators:[ke]}};function Ri(e,t){return Cr(Pi,g,"poiCategories",((e,r)=>{const n=new dr(t);return so(n.resolve("poiCategoriesEndpoint"))(Pi,e,r).then(vt)}))(e,t)}class Oi extends pi{constructor(e,t){super(e,t),this.fields.type={defaultValue:"poiSearch",visible:!1},this.fields.boundingBox=di()}}function Ci(e,t){return new Oi(e,t).construct("poiSearch")}const Ai={key:{validators:[Ae]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},query:{validators:[Ae],required:!0,application:ft},language:{validators:[ke],converters:[Bo],required:!0},limit:{validators:[Fe]},countrySet:{validators:[Ie]},radius:{validators:[Ee]},resultSet:{validators:[Ae]},center:{converters:[Lo],validators:[ze],cast:(e,t)=>{const r=e.split(",");t.lat=r[0],t.lon=r[1]}},sessionId:{validators:[Ae]},clientTime:{validators:[Ge]}};function xi(e,t){const r=new dr(t),n=so(r.resolve("autocompleteEndpoint"));return Cr(Ai,g,"autocomplete",(function(e,t){return n(Ai,e,t).then((e=>vt(e)))}))(e,t)}const ji=new et({isLatLon:!0}),ki=e=>{e.position&&(e.position=ji.convert(e.position)),e.address&&e.address.boundingBox&&(e.address.boundingBox.northEast=ji.convert(e.address.boundingBox.northEast),e.address.boundingBox.southWest=ji.convert(e.address.boundingBox.southWest))};function Ii(e){return e.addresses.forEach((e=>{Array.isArray(e)&&e.forEach((e=>{ki(e)})),ki(e)})),e}function Li(e){return e.batchItems instanceof Array?(e.batchItems=e.batchItems.map((e=>e.response.error?{error:e.response.error}:Ii(e.response))),e):null}function qi(e,t){this.options=e,this.additionalOptions=t,this.fields={}}function Di(e){return new qi(e).construct()}qi.prototype.TYPE={reverseGeocode:"reverseGeocode",crossStreetLookup:"reverseGeocode/crossStreet"},qi.prototype.construct=function(e){return Cr(I(this.fields,this.defaultFields),g,e||"reverseGeocodeBase",this.handleServiceCall.bind(this),this.handleBatchServiceCall.bind(this))(this.options,this.additionalOptions)},qi.prototype.handleServiceCall=function(e,t){const r=new dr(this.additionalOptions);return so(r.resolve("reverseGeocodeEndpoint"))(this.fields,e,t).then((e=>vt(e,Ii)))},qi.prototype.handleBatchServiceCall=function(e,t){const r=new dr(this.additionalOptions);return bo(100,{single:r.resolve("batchReverseGeocodeQueryEndpoint"),batch:r.resolve("batchSearchEndpoint"),batchSync:r.resolve("batchSyncSearchEndpoint")})(this.fields,e,t).then((e=>vt(e,Li)))},Di.prototype.constructor=qi;const Bi="reverseGeocode",zi="reverseGeocode/crossStreet",Mi={key:{validators:[Ae]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},language:{validators:[ke]},position:{converters:[Lo],validators:[ze],required:!0,application:ft},heading:{validators:[Q]},radius:{validators:[Ee]},protocol:{validators:[K(["http","https"],"protocol")]},view:{validators:[K(["AR","IL","MA","IN","PK","Unified","RU","TR","CN"],"view")]},allowFreeformNewline:{validators:[Se]}},Fi={type:{defaultValue:Bi,visible:!1,application:ft},entityType:{converters:[Uo,Wo],validators:[Ue]},returnSpeedLimit:{validators:[Se]},number:{validators:[Ae]},returnRoadUse:{validators:[Se]},roadUse:{converters:[function(e){if(B()(e))return'["'+e.replace(/["']|^\s+|\s+$/g,"").split(/[\s,]+/).join('","')+'"]';if(Array.isArray(e)){for(let t=0;t<e.length;t+=1)e[t]=String(e[t]).replace(/["']|^\s+|\s+$/g,"");return'["'+e.join('","')+'"]'}throw new TypeError("Unable to cast "+e+" ["+typeof e+"] to road use string")}],validators:[function(e){const t=["LimitedAccess","Arterial","Terminal","Ramp","Rotary","LocalStreet"];ie(!B()(e)||!e.match(/^\[("\w*",?)+\]$/),"Road use is expected, but "+e+"  ["+typeof e+"] given");const r=e.replace(/["[\]]/g,"").split(",");for(let n=0;n<r.length;n+=1)ie(t.indexOf(r[n])<0,"Road use ("+t+") is expected, but "+e+"  ["+typeof e+"] given");return e}]},streetNumber:{validators:[Ae]},returnMatchType:{validators:[Se]},mapcodes:{validators:[De]},dateTime:{validators:[function(e){return _e(e,"dateTime")}]}},Wi={type:{defaultValue:zi,visible:!1,application:ft},limit:{validators:[Fe]}};function Ui(e){if(e===Bi)return Object.assign({},Mi,Fi);if(e===zi)return Object.assign({},Mi,Wi);throw new Error("Unsupported geocode type: "+e)}function Vi(e,t){const r=Di.prototype.constructor;function n(e,t){r.call(this,e,t),this.fields=Ui(Bi)}return n.prototype=new r,n.prototype.constructor=n,new n(e,t).construct("reverseGeocode")}function Ni(e){return e?(Array.isArray(e.results)&&e.results.forEach((e=>{Array.isArray(e)?e.forEach((e=>{ot(e)})):ot(e)})),ot(e),Object.assign(e,{toGeoJson:()=>lt(e)})):e}function $i(e){return e.batchItems instanceof Array?(e.batchItems=e.batchItems.map((e=>e.response.error?{error:e.response.error}:Ni(e.response))),e):null}var Gi=()=>({extendedPostalCodesFor:{validators:[Ae]},type:{defaultValue:"geocode",application:ft},key:{validators:[Ae]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},query:{validators:[Ae],required:!0,application:ft},typeahead:{validators:[Se]},limit:{validators:[Te]},view:{validators:[K(["AR","IL","MA","IN","PK","Unified","RU","TR","CN"],"view")]},offset:{validators:[Ee],name:"ofs"},language:{validators:[ke]},boundingBox:{validators:[Re],converters:[Io],cast:(e,t)=>{t.topLeft="".concat(e.maxLat,",").concat(e.minLon),t.btmRight="".concat(e.minLat,",").concat(e.maxLon)}},center:{converters:[Lo],validators:[ze],cast:(e,t)=>{const r=e.split(",");t.lat=r[0],t.lon=r[1]}},countrySet:{validators:[Ie]},radius:{validators:[Ee]},bestResult:{validators:[Se],cast:(e,t)=>{e&&(t.limit=1,t.ofs=0)}},protocol:{validators:[K(["http","https"],"protocol")]},timeZone:{validators:[K(["iana"],"timeZone parameter")]},entityTypeSet:{converters:[Uo,Wo],validators:[Ue]}});const Hi=Gi();function Qi(e,t){const r=new dr(t),n=so(r.resolve("geocodeEndpoint")),o=bo(100,{single:r.resolve("batchSearchQueryEndpoint"),batchSync:r.resolve("batchSyncSearchEndpoint"),batch:r.resolve("batchSearchEndpoint")});return Cr(Hi,g,"geocode",(function(e,t){return n(Hi,e,t).then((t=>{let{data:r,trackingId:n}=t;return vt({data:e.bestResult?r.results[0]:r,trackingId:n},Ni)}))}),(function(e,t){return o(Hi,e,t).then((e=>vt(e,$i)))}))(e,t)}function Ki(e,t){const r=Di.prototype.constructor;function n(e,t){r.call(this,e,t),this.fields=Ui(zi)}return n.prototype=new r,n.prototype.constructor=n,new n(e,t).construct("crossStreetLookup")}const Zi={key:{validators:[Ae]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},countryCode:{validators:[je],required:!0},limit:{validators:[Fe]},view:{validators:[K(["AR","IL","MA","IN","PK","Unified","RU","TR","CN"],"view")]},offset:{validator:[Ee],name:"ofs"},language:{validators:[ke]},streetNumber:{validators:[Ae]},streetName:{validators:[Ae]},crossStreet:{validators:[Ae]},municipality:{validators:[Ae]},municipalitySubdivision:{validators:[Ae]},countryTertiarySubdivision:{validators:[Ae]},countrySecondarySubdivision:{validators:[Ae]},countrySubdivision:{validators:[Ae]},postalCode:{validators:[Ae]},protocol:{validators:[K(["http","https"],"protocol")]},bestResult:{validators:[Se]},timeZone:{validators:[K(["iana"],"timeZone parameter")]},extendedPostalCodesFor:{validators:[Ae]},entityTypeSet:{converters:[Uo,Wo],validators:[Ue]}};function Yi(e){const t=function(e){const t=Boolean(e.bestResult);return delete e.bestResult,t}(e);t&&(e.limit=1,e.offset=0)}function Xi(e,t){const r=new dr(t),n=bo(100,{single:r.resolve("batchStructuredGeocodeQueryEndpoint"),batch:r.resolve("batchSearchEndpoint"),batchSync:r.resolve("batchSyncSearchEndpoint")}),o=so(r.resolve("structuredGeocodeEndpoint"));return Cr(Zi,g,"structuredGeocode",(function(e,t){const r=Boolean(e.bestResult);return Yi(e),o(Zi,e,t).then((e=>{let{data:t,trackingId:n}=e;return vt({data:r?t.results[0]:t,trackingId:n},Ni)}))}),(function(e,t){return e.batchItems.forEach(Yi),n(Zi,e,t).then((e=>vt(e,$i)))}))(e,t)}const Ji={key:{validators:[H]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},routeType:{validators:[K(["fastest","shortest","eco","thrilling"],"route type")]},traffic:{validators:[Se]},avoid:{validators:[Ve(["tollRoads","motorways","ferries","unpavedRoads","carpools","alreadyUsedRoads"],"avoid")],converters:[zo]},departAt:{validators:[function(e){if("now"===e||re(e)&&Date.now()<Date.parse(e))return e;throw new TypeError("Supported departAt is now or rfc3339 format and no earlier than now(), but "+e+" ["+typeof e+"] given")}],converters:[qo]},arriveAt:{validators:[function(e){if(re(e)&&Date.now()<Date.parse(e))return e;throw new TypeError("Supported arriveAt is rfc3339 format, but and no earlier than now() "+e+" ["+typeof e+"] given")}],converters:[qo]},travelMode:{validators:[K(["car","truck","taxi","bus","van","motorcycle","bicycle","pedestrian"],"travel mode")]},hilliness:{validators:[K(["low","normal","high"],"hilliness")]},windingness:{validators:[K(["low","normal","high"],"windingness")]},report:{validators:[K(["effectiveSettings"],"report")]},vehicleEngineType:{validators:[K(["combustion","electric"],"vehicle engine type")]},vehicleMaxSpeed:{validators:[Ee]},vehicleWeight:{validators:[Ee,function(e,t){if(function(e){return e.accelerationEfficiency||e.decelerationEfficiency||e.uphillEfficiency||e.downhillEfficiency}(t)&&void 0===e)throw new Error("vehicleWeight parameter must be set if any efficiency parameters is present")}]},vehicleAxleWeight:{validators:[Ee]},vehicleLength:{validators:[Oe(0,Number.MAX_VALUE)]},vehicleWidth:{validators:[Oe(0,Number.MAX_VALUE)]},vehicleHeight:{validators:[Oe(0,Number.MAX_VALUE)]},vehicleCommercial:{validators:[Se]},vehicleLoadType:{validators:[Ve(["USHazmatClass1","USHazmatClass2","USHazmatClass3","USHazmatClass4","USHazmatClass5","USHazmatClass6","USHazmatClass7","USHazmatClass8","USHazmatClass9","otherHazmatExplosive","otherHazmatGeneral","otherHazmatHarmfulToWater"],"vehicle load type")],converters:[zo]},constantSpeedConsumptionInLitersPerHundredkm:{validators:[ei("combustion")],converters:[Fo]},currentFuelInLiters:{validators:[ti("combustion","currentFuelInLiters")]},auxiliaryPowerInLitersPerHour:{validators:[ti("combustion","auxiliaryPowerInLitersPerHour")]},fuelEnergyDensityInMJoulesPerLiter:{validators:[function(e,t){e&&(Xo(t),Qo(e),Jo(t),Zo(t,"combustion"),function(e,t){if(!(T(e.accelerationEfficiency)&&T(e.decelerationEfficiency)&&T(e.uphillEfficiency)&&T(e.downhillEfficiency)))throw new Error("Efficiency parameters are required when using "+t)}(t,"fuelEnergyDensityInMJoulesPerLiter"))}]},accelerationEfficiency:{validators:[ri("accelerationEfficiency","decelerationEfficiency")]},decelerationEfficiency:{validators:[ri("decelerationEfficiency","accelerationEfficiency")]},uphillEfficiency:{validators:[ri("uphillEfficiency","downhillEfficiency")]},downhillEfficiency:{validators:[ri("downhillEfficiency","uphillEfficiency")]},constantSpeedConsumptionInkWhPerHundredkm:{validators:[ei("electric")],converters:[Fo]},currentChargeInkWh:{validators:[ni("currentChargeInkWh","maxChargeInkWh")]},maxChargeInkWh:{validators:[ni("maxChargeInkWh","currentChargeInkWh")]},auxiliaryPowerInkW:{validators:[ti("electric","auxiliaryPowerInkW")]},protocol:{validators:[K(["http","https"],"protocol")]},avoidAreas:{converters:[function(e){if(!Array.isArray(e))throw new TypeError("An array is required");return{rectangles:e.map((e=>({southWestCorner:ko(Ao(e.southWestCorner)),northEastCorner:ko(Ao(e.northEastCorner))})))}}],application:pt},avoidVignette:{validators:[Be.bind(void 0,!1),ai("avoidVignette","allowVignette")],converters:[zo],application:pt},allowVignette:{validators:[Be.bind(void 0,!0),ai("allowVignette","avoidVignette")],converters:[zo],application:pt},recuperationInkWhPerkmAltitudeLoss:{validators:[si("recuperationInkWhPerkmAltitudeLoss","consumptionInkWhPerkmAltitudeGain"),ci]},consumptionInkWhPerkmAltitudeGain:{validators:[si("consumptionInkWhPerkmAltitudeGain","recuperationInkWhPerkmAltitudeLoss"),ci]},vehicleAdrTunnelRestrictionCode:{validators:[K(["B","C","D","E"],"vehicleAdrTunnelRestrictionCode")]}};let ea={__all:{validators:[function(e,t){const r=["fuelBudgetInLiters"in t,"energyBudgetInkWh"in t,"timeBudgetInSec"in t,"distanceBudgetInMeters"in t].filter((e=>e)).length;if(0===r||r>1)throw new Error("Exactly one of fuelBudgetInLiters, energyBudgetInkWh, timeBudgetInSec and distanceBudgetInMeters must be set.")},function(e,t){const r="alreadyUsedRoads";if("avoid"in t&&t.avoid.indexOf(r)>-1)throw new Error(r+" is not allowed value for avoid parameter in Calculate Reachable Route request.");if("travelMode"in t&&["bicycle","pedestrian"].indexOf(t.travelMode)>-1)throw new Error(t.travelMode+" is not allowed value for travelMode parameter in Calculate Reachable Route request.");if("arriveAt"in t)throw new Error("arriveAt parameter is not allowed in Calculate Reachable Route request.")}]},origin:{validators:[ze],converters:[Lo],application:ft},fuelBudgetInLiters:{validators:[ii,oi]},energyBudgetInkWh:{validators:[ii,oi]},distanceBudgetInMeters:{validators:[Oe(0,Number.MAX_VALUE)]},timeBudgetInSec:{validators:[Oe(0,Number.MAX_VALUE)]}};ea=O(ea,Ji);const ta=new et;var ra=e=>(e.reachableRange&&e.reachableRange.boundary&&Array.isArray(e.reachableRange.boundary)&&(e.reachableRange.boundary=ta.convert(e.reachableRange.boundary),e.reachableRange.center=ta.convert(e.reachableRange.center)),Object.assign(e,{toGeoJson:()=>(e=>({type:"Feature",geometry:{type:"Polygon",coordinates:[e.reachableRange.boundary.map((e=>[e.lng,e.lat]))]}}))(e)})),na=e=>Array.isArray(e.batchItems)?(e.batchItems=e.batchItems.map((e=>e.response.error?{error:e.response.error}:ra(e.response))),e):null;const oa=(e=>{const t=x(ea);return e instanceof Array&&e.forEach((function(e){delete t[e]})),t})();function ia(e,t){const r=new dr(t),n=so(r.resolve("calculateReachableRangeEndpoint")),o=bo(100,{batchSync:r.resolve("batchSyncRoutingEndpoint"),batch:r.resolve("batchRoutingEndpoint"),single:r.resolve("batchReachableRangeQueryEndpoint")});return Cr(oa,b,"calculateReachableRange",((e,t)=>n(oa,e,t).then((e=>vt(e,ra)))),((e,t)=>o(oa,e,t).then((e=>vt(e,na)))))(e,t)}function aa(e){const t=[];for(let r=0;r<e.length;r+=1)t.push([e[r].lng,e[r].lat]);return t}function sa(e){const t=e.legs.length>1,r=function(e){return{type:"Feature",properties:{summary:e.summary,sections:e.sections,segmentSummary:[]}}}(e);for(let n=0;n<e.legs.length;n+=1)r.properties.segmentSummary.push(e.legs[n].summary),e.legs[n].points&&(r.geometry=r.geometry||{coordinates:[]},t?(r.geometry.type="MultiLineString",r.geometry.coordinates.push(aa(e.legs[n].points))):(r.geometry.type="LineString",r.geometry.coordinates=aa(e.legs[n].points)));return e.guidance&&(r.properties.guidance=e.guidance),r}const la=new et,ca=(e,t,r)=>{r&&(e[t]=r)};function ua(e){const t=e.routes;return t&&t.length&&t.forEach((e=>{e.legs.forEach((e=>{e.points=la.convert(e.points)}))})),Object.assign(e,{toGeoJson:()=>(e=>{const t={type:"FeatureCollection",features:[]};if(!e||!e.routes)return t;for(let r=0;r<e.routes.length;r+=1)t.features.push(sa(e.routes[r]));return t})(e),toRouteSectionsCollection:()=>(e=>{const t=[];return e&&e.routes?(e.routes.forEach((e=>{const r=[];for(let t=0;t<e.legs.length;t+=1)r.push(...e.legs[t].points);const n={type:"FeatureCollection",features:[]};e.sections.forEach((e=>{let t=r.slice(e.startPointIndex,e.endPointIndex+1);t=t.map((e=>[e.lng,e.lat]));const o={type:"Feature",geometry:{type:"LineString"},properties:{}};o.geometry.coordinates=t,ca(o.properties,"sectionType",e.sectionType),ca(o.properties,"travelMode",e.travelMode),ca(o.properties,"countryCode",e.countryCode),ca(o.properties,"simpleCategory",e.simpleCategory),ca(o.properties,"effectiveSpeedInKmh",e.effectiveSpeedInKmh),ca(o.properties,"delayInSeconds",e.delayInSeconds),ca(o.properties,"magnitudeOfDelay",e.delayInSeconds),ca(o.properties,"tec",e.tec),n.features.push(o)})),t.push(n)})),t):t})(e)})}function da(e){return Array.isArray(e.batchItems)?(e.batchItems=e.batchItems.map((e=>e.response.error?{error:e.response.error}:ua(e.response))),e):null}let pa={alternativeType:{validators:[K(["anyRoute","betterRoute"],"alternativeType")]},locations:{validators:[function(e){const t=j,r=k;e.constructor.toString().indexOf("Array")>-1&&(e=e.join(":"));const n=new RegExp("^"+t.source+":(?:(?:"+t.source+"|"+r.source+"):)*"+t.source+"$");if(!e.match(n))throw new TypeError("Routing location is expected. But "+e+" ["+typeof e+"] given");return e}],converters:[function(e){const t=[];if(B()(e))return e.split(":").map((e=>e.split(",").reverse().join(","))).join(":");if(Array.isArray(e)){Eo(e.length<2,"Unable to cast "+e+" ["+typeof e+"] to routing locations string"),t.push(Ao(e[0]));for(let r=1;r<e.length-1;r+=1)t.push(xo(e[r]));return t.push(Ao(e[e.length-1])),t.join(":")}throw new TypeError("Unable to cast "+e+" ["+typeof e+"] to routing locations string")}],required:!0,application:ft},maxAlternatives:{validators:[Oe(0,5)]},instructionsType:{validators:[K(["coded","text","tagged"],"instructions type")]},language:{validators:[function(e){const t=Object.keys(N);return C(e,t,"Supported routing guidance language is expected to be one of: "+t+"), but "+e+" ["+typeof e+"] given")}],converters:[function(e){return Co(e,N)}]},computeBestOrder:{validators:[Se]},routeRepresentation:{validators:[K(["polyline","none"],"route representation")]},computeTravelTimeFor:{validators:[K(["none","all"],"compute travel time for")]},vehicleHeading:{validators:[Ce(0,359)]},minDeviationDistance:{validators:[Ee,ai("minDeviationDistance","arriveAt"),si("minDeviationDistance","supportingPoints")]},minDeviationTime:{validators:[Ee,ai("minDeviationTime","arriveAt"),si("minDeviationTime","supportingPoints")]},supportingPoints:{validators:[function(e){if(!Array.isArray(e))throw new TypeError("Expecting array in supporting points validator");if(!e.length||e.length<2)throw new TypeError("There should be at least two supporting points");return e}],converters:[function(e){const t=[];if(B()(e)&&(e=e.split(":")),Array.isArray(e))for(let r=0;r<e.length;r++)t.push(Ao(e[r]));else t.push(Ao(e));return function(e){return e.map(ko)}(t)}],application:pt},sectionType:{validators:[Ve(["carTrain","country","ferry","motorway","pedestrian","tollRoad","tollVignette","travelMode","tunnel","traffic"],"sectionType")],converters:[zo]}};function fa(e){pa=O(pa,Ji);const t=x(pa);return e instanceof Array&&e.forEach((function(e){delete t[e]})),t}function ha(e,t){const r=fa(),n=new dr(t),o=so(n.resolve("routingEndpoint")),i=bo(100,{batchSync:n.resolve("batchSyncRoutingEndpoint"),batch:n.resolve("batchRoutingEndpoint"),single:n.resolve("batchRoutingQueryEndpoint")});return Cr(r,b,"calculateRoute",(function(e,t){return o(r,e,t).then((e=>vt(e,ua)))}),(function(e,t){return i(r,e,t).then((e=>vt(e,da)))}))(e,t)}const ya=["arriveAt","travelMode","computeTravelTimeFor","alternativeType","maxAlternatives","instructionsType","language","computeBestOrder","routeRepresentation","supportingPoints","minDeviationDistance","minDeviationTime","constantSpeedConsumptionInLitersPerHundredkm","currentFuelInLiters","fuelEnergyDensityInMJoulesPerLiter","hilliness","windingness","routeType","vehicleEngineType","currentChargeInkWh","maxChargeInkWh","constantSpeedConsumptionInkWhPerHundredkm"],ba={auxiliaryPowerInkW:{validators:[ti("electric","auxiliaryPowerInkW")]},constantSpeedConsumptionInkWhPerHundredkm:{validators:[ei("electric")],converters:[Fo],required:!0},currentChargeInkWh:{validators:[ni("currentChargeInkWh","maxChargeInkWh")],required:!0},maxChargeInkWh:{validators:[ni("maxChargeInkWh","currentChargeInkWh")],required:!0},vehicleEngineType:{validators:[K(["electric"],"vehicleEngineType")],required:!0},chargingModes:{validators:[function(e){if(e.length>10)throw new Error("Given chargingModes array contains more than 10 elements.");return e.forEach((e=>{se(e)})),e}],required:!0,application:pt},minChargeAtDestinationInkWh:{validators:[Oe(0,Number.MAX_VALUE)],required:!0},minChargeAtChargingStopsInkWh:{validators:[Oe(0,Number.MAX_VALUE)],required:!0},recuperationInkWhPerkmAltitudeLoss:{validators:[si("recuperationInkWhPerkmAltitudeLoss","consumptionInkWhPerkmAltitudeGain"),ci]},consumptionInkWhPerkmAltitudeGain:{validators:[si("consumptionInkWhPerkmAltitudeGain","recuperationInkWhPerkmAltitudeLoss"),ci]},vehicleAdrTunnelRestrictionCode:{validators:[K(["B","C","D","E"],"vehicleAdrTunnelRestrictionCode")]},travelMode:{validators:[K(["car"],"travel mode")]}};function ga(e,t){const r=O(fa(ya),ba),n=new dr(t),o=so(n.resolve("longDistanceEVRoutingEndpoint"));return Cr(r,b,"longDistanceEVRouting",((e,t)=>o(r,e,t).then((e=>vt(e,ua)))))(e,t)}function ma(e){return e.error?{error:e.error}:e.matrix?e:null}const va=["locations","maxAlternatives","instructionsType","language","computeBestOrder","routeRepresentation","vehicleHeading","report","callback","minDeviationTime","minDeviationDistance","alternativeType","sectionType","supportingPoints","allowVignette","avoidAreas","batchMode","consumptionInkWhPerkmAltitudeGain","recuperationInkWhPerkmAltitudeLoss"],_a={validators:[function(e){return t=>(t.forEach((t=>be(e,t))),t)}({point:{validators:[(wa={latitude:{validators:[function(e){return he(e)}],required:!0},longitude:{validators:[function(e){return ae(e)}],required:!0}},e=>(be(wa,e),e))]}})],converters:[function(e){return t=>(t.forEach((t=>{for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&Object.prototype.hasOwnProperty.call(e,r)&&Array.isArray(e[r].converters)&&e[r].converters.forEach((e=>{q()(e)&&(t[r]=e(t[r]))}))})),t)}({point:{converters:[function(e){return t=>{for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&Object.prototype.hasOwnProperty.call(e,r)&&q()(e[r].converter)&&(t[r]=e[r].converter(t[r]));return t}}({latitude:{converters:[function(e){return To(e)}],required:!0},longitude:{converters:[function(e){return Po(e)}],required:!0}})]}})],required:!0,application:pt};var wa;function Sa(e,t){const r=function(e){const t=fa(va);t.origins=_a,t.destinations=_a,t.batchMode={application:yt},t.waitTimeSeconds={application:ht,validators:[$e]};const r=x(t);return e instanceof Array&&e.forEach((function(e){delete r[e]})),r}(),n=new dr(t),o=function(e,t){return(r,n,o)=>{const i=to(r,n),a=mo(i.postParams),s=i.queryParams,l=i.headerParams;return yo({batchMode:n.batchMode||(a.origins.length*a.destinations.length<=e?"sync":"redirect"),headers:l,waitTimeSeconds:n.waitTimeSeconds,queryParams:s,bodyParams:a,endpoints:{sync:t.sync,async:t.async},abortSignal:o})}}(100,{sync:n.resolve("matrixSyncRoutingEndpoint"),async:n.resolve("matrixRoutingEndpoint")});return Cr(r,b,"matrixRouting",((e,t)=>o(r,e,t).then((e=>vt(e,ma)))))(e,t)}const Ea={key:{validators:[H]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},protocol:{validators:[K(["http","https"],"protocol")]},sessionId:{validators:[Ae]}};function Ta(e,t){const r=new dr(t),n=so(r.resolve("incidentViewportEndpoint"));return Cr(Ea,v,"incidentViewport",(function(e,t){return n(Ea,e,t).then(vt)}))(e,t)}function Pa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pa(Object(r),!0).forEach((function(t){Oa(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Oa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ca(e){const t=e.flowSegmentData.coordinates.coordinate.map((e=>({lat:e.latitude,lng:e.longitude})));return Object.assign(e,{flowSegmentData:Ra(Ra({},e.flowSegmentData),{},{coordinates:{coordinate:t}})})}const Aa={key:{validators:[Ae]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},zoom:{validators:[xe],required:!0,application:ft},style:{validators:[K(["absolute","relative","relative-delay","relative0","relative0-dark","reduced-sensitivity"],"traffic flow style")],required:!0,application:ft},point:{converters:[Lo],validators:[ze],required:!0},unit:{validators:[K(["KMPH","MPH"])]},thickness:{validators:[Oe(1,20)]},openLr:{validators:[Se]}};function xa(e,t){const r=new dr(t),n=so(r.resolve("flowSegmentDataEndpoint"));return Cr(Aa,m,"trafficFlowSegmentData",((e,t)=>n(Aa,e,t).then((e=>vt(e,Ca)))))(e,t)}function ja(e,t){return e===t}var ka=n(111),Ia=n.n(ka);const La=new et,qa={0:"Unknown",1:"Accident",2:"Fog",3:"Dangerous Conditions",4:"Rain",5:"Ice",6:"Jam",7:"Lane Closed",8:"Road Closed",9:"Road Works",10:"Wind",11:"Flooding",12:"Detour",13:"Cluster",14:"Broken down vehicle"},Da={0:"unknown",1:"minor",2:"moderate",3:"major",4:"undefined"},Ba=(e,t)=>{const r=[],n={};if(n.id=e.id,M()(e.cbl)||M()(e.ctr)||(n.clusterBounds=[[e.cbl.lng,e.cbl.lat],[e.ctr.lng,e.ctr.lat]]),M()(e.op)||(n.originalPosition=[e.op.lng,e.op.lat]),M()(e.ic)||(n.incidentCategory=qa[e.ic]),M()(e.ty)||(n.incidentSeverity=Da[e.ty]),M()(e.v)||(n.vectorGeometry=e.v),it(n,"clusterSize",e.cs),it(n,"description",e.d),it(n,"incidentCause",e.c),it(n,"from",e.f),it(n,"to",e.t),it(n,"roadNumber",e.r),it(n,"delaySeconds",e.dl),it(n,"lengthMeters",e.l),it(n,"endDate",e.ed),e.cpoi&&!t)r.push(...Ia()(e.cpoi.map((e=>Ba(e,!1)))));else{e.cpoi&&(n.features=Ia()(e.cpoi.map((e=>Ba(e,!0)))));const t=at(n,"Point");t.geometry.coordinates=[e.p.lng,e.p.lat],r.push(t)}return r},za=(e,t)=>{const r={type:"FeatureCollection",features:[]},n=e[0]||e;if(!n||!n.tm||!n.tm.poi)return r;e.length>1&&(n.tm.poi=((e,t,r)=>{r||(r=ja);const n=e.concat(t);for(let t=0;t<e.length;t+=1)for(let o=e.length;o<n.length;o+=1)r(n[t],n[o])&&(n.splice(o,1),o-=1);return n})(e[0].tm.poi,e[1].tm.poi,(function(e,t){return e.id===t.id})));for(let e=0;e<n.tm.poi.length;e+=1)r.features.push(...Ba(n.tm.poi[e],t));return r};function Ma(e){return t=>(t=(e=>{const t=e=>e&&e.tm&&e.tm.poi?(e.tm.poi.forEach((e=>{e.cbl&&(e.cbl=La.convert(e.cbl)),e.ctr&&(e.ctr=La.convert(e.ctr)),e.p&&(e.p=La.convert(e.p)),e.cpoi&&Array.isArray(e.cpoi)&&e.cpoi.forEach((e=>{e.p=La.convert(e.p)})),e.op&&(e.op=La.convert(e.op))})),e):e;return Array.isArray(e)?e.map(t):t(e)})(t),Object.assign(t,{toGeoJson:()=>za(t,e)}))}const Fa={key:{validators:[H]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},zoomLevel:{validators:[xe],required:!0,application:ft,name:"zoom"},boundingBox:{converters:[Io],validators:[Re],required:!0,application:ft,cast:(e,t)=>{t.minLon=e.minLon,t.maxLon=e.maxLon,t.minLat=e.minLat,t.maxLat=e.maxLat}},style:{validators:[K(["s0","s0-dark","s1","s2","s3","night"],"traffic style")],required:!0,application:ft},language:{converters:[function(e){return Co(e,V)}],validators:[function(e){const t=["ar","ca","cs","da","de","el","en","en-GB","en-US","es","et","fi","fr","he","hu","id","it","lt","lv","nb","nl","no","pl","pt","ro","ru","sk","sv","th","tr","zh"];return C(e,t,"Supported traffic incidents language is expected to be one of: "+t+"), but "+e+" ["+typeof e+"] given")}]},trafficModelID:{validators:[Ae],defaultValue:"-1",application:ft},geometries:{validators:[K(["shifted","original"],"traffic geometries")]},expandCluster:{validators:[Se],defaultValue:!1},preserveCluster:{validators:[Se],defaultValue:!1},originalPosition:{validators:[Se],defaultValue:!1},protocol:{validators:[K(["http","https"],"protocol")]},projection:{defaultValue:"EPSG4326"}};function Wa(e,t){const r=new dr(t),n=so(r.resolve("incidentDetailsEndpoint"));return Cr(Fa,v,"incidentDetails",(function(e,t){const r=Ma(e.preserveCluster);return n(Fa,e,t).then((e=>vt(e,r)))}))(e,t)}const Ua={key:{validators:[H]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},boundingBox:{required:!0,validators:[Re],converters:[Io],cast:(e,t)=>{t.bbox="".concat(e.minLon,",").concat(e.minLat,",").concat(e.maxLon,",").concat(e.maxLat)}},fields:{validators:[Ae,function(e){const t=A(te),r=A(e),n=(e,t)=>{Object.keys(e).forEach((function(r){if(!t.hasOwnProperty(r)||typeof e[r]!=typeof t[r])throw new TypeError("Property ".concat(r," not matches available fields: ")+te);"object"==typeof e[r]&&n(e[r],t[r])}))};return n(r,t),e}],converters:[function(e){if("string"==typeof e)return e.replace(/\s/g,"");throw new TypeError("A string is required")}]},t:{validators:[Ae]},language:{validators:[ke],converters:[function(e){return Co(e,G)}]}};function Va(e,t){const r=new dr(t),n=so(r.resolve("incidentDetailsV5Endpoint"));return Cr(Ua,v,"incidentDetailsV5",(function(e,t){return n(Ua,e,t).then(vt)}))(e,t)}const Na={basic:["jpg","jpeg","png"],hybrid:["png"],labels:["png"]},$a={layer:{validators:[K(["basic","hybrid","labels"],"layers")],defaultValue:"basic"},style:{validators:[K(["main","night"],"styles")],defaultValue:"main"},format:{validators:[K(["png","jpg","jpeg"],"formats")],defaultValue:"png"},key:{validators:[H]},zoom:{validators:[Ce(0,23)],converters:[Mo]},center:{converters:[Lo],validators:[ze]},width:{validators:[Ce(1,8192)]},height:{validators:[Ce(1,8192)]},bbox:{validators:[Re],converters:[Io]},view:{validators:[K(["Unified","IL","IN","MA","PK","AR","Arabic","TR","RU","CN"],"view")]},language:{validators:[function(e){return C(e,J,"Supported maps language is expected to be one of: "+J+"), but "+e+" ["+typeof e+"] given")}]}};function Ga(e,t){return e+"?"+Object.keys($a).reduce((function(e,r){let n=t[r];return void 0!==n&&(n=function(e,t){if("bbox"===e)t=(r=t).minLon+","+r.minLat+","+r.maxLon+","+r.maxLat;else{if("zoom"===e)return String(parseInt(t,10));if("center"===e){const e=t.split(","),r=[parseFloat(e[1]),parseFloat(e[0])];return r[0]+","+r[1]}}var r;return t}(r,n),e.push(r+"="+encodeURI(n))),e}),[]).join("&")}function Ha(e,t){const r=new dr(t);return Cr($a,y,"staticImage",(function(e){return function(e){if(!Na[e.layer]||-1===Na[e.layer].indexOf(e.format))throw new Error("Unsupported layer. Please change to PNG or use basic layer.");if(e.bbox&&e.center)throw new Error("The bbox and center properties cannot be used together");if(!e.bbox&&!e.center)throw new Error("Either bbox or center property must be provided");if(e.bbox&&(E(e.width)||E(e.height)))throw new Error("The bbox, width and height properties cannot be used together")}(e),Ga(r.resolve("staticMapImageEndpoint"),e)}))(e,t)}var Qa=()=>({key:{validators:[Ae]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},boundingBox:{validators:[Re],converters:[Io],application:ft,cast:(e,t)=>{t.minLon=e.minLon,t.maxLon=e.maxLon,t.minLat=e.minLat,t.maxLat=e.maxLat}},zoom:{validators:[xe],converters:[Mo],application:ft},x:{validators:[Pe],converters:[Mo],application:ft},y:{validators:[Pe],converters:[Mo],application:ft},protocol:{validators:[K(["http","https"],"protocol")]},sessionId:{validators:[Ae]}});const Ka=Qa();function Za(e,t){const r=new dr(t),n=so(r.resolve("copyrightsBoundsEndpoint")),o=so(r.resolve("copyrightsZoomEndpoint")),i=so(r.resolve("copyrightsWorldEndpoint"));return Cr(Ka,y,"copyrights",(function(e,t){return function(e,t,r){return t.boundingBox?n(e,t,r):t.zoom?o(e,t,r):i(e,t,r)}(Ka,e,t).then(vt)}))(e,t)}const Ya={key:{validators:[H]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4},protocol:{validators:[K(["http","https"],"protocol")]},sessionId:{validators:[Ae]}};function Xa(e,t){const r=new dr(t),n=so(r.resolve("captionEndpoint"));return Cr(Ya,y,"copyrightsCaption",(function(e,t){return n(Ya,e,t).then(vt)}))(e,t)}const Ja={key:{validators:[Ae]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4}};function es(e,t){const r=new dr(t),n=so(r.resolve("copyrightsV2Endpoint"));return Cr(Ja,y,"copyrights",(function(e,t){return e.contentType="text",n(Ja,e,t).then(vt)}))(e,t)}const ts={key:{validators:[H]},trackingId:{validators:[we],application:bt,defaultValue:_t.v4}};function rs(e,t){const r=new dr(t),n=so(r.resolve("captionV2Endpoint"));return Cr(ts,y,"copyrightsCaptionV2",(function(e,t){return n(ts,e,t).then(vt)}))(e,t)}function ns(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function os(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(r),!0).forEach((function(t){is(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ns(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function is(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var as={sdkInfo:{version:l()["sdk.version"]},setProductInfo:(e,t)=>{if(!e)throw new Error("ProductId needs to be set");const r=t||0===t?"/"+t:"";d().productInfo=e+r},services:os(os(os(os(os({},t),r),i),a),{},{_endpoints:e})}}();var i=exports,a=o.default;for(var s in a)i[s]=a[s];a.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})}();
//# sourceMappingURL=services-node.min.js.map